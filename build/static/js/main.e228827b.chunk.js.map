{"version":3,"sources":["components/nav/Searcher.js","components/nav/UserMenu.js","components/nav/Nav.js","components/Pagination.js","empty-image.jpg","components/RecipeCard.js","components/main/Recipe.js","components/main/new recipe/Steps.js","components/main/new recipe/Ingredients.js","components/main/new recipe/NewRecipe.js","components/main/MainPage.js","components/Footer.js","components/modal/Login.js","components/modal/Register.js","components/modal/MainModal.js","App.js","index.js"],"names":["Searcher","_ref","optionList","setPage","setActualRecipe","_useState","useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","sendQuery","setSendQuery","GET_RECIPE","gql","_templateObject","_taggedTemplateLiteral","_useQuery","useQuery","variables","recipeName","error","loading","data","_toConsumableArray","document","getElementById","classList","includes","toggle","Object","keys","length","value","findRecipeByName","_jsxs","className","children","_jsx","type","list","name","id","autoComplete","autoSave","placeholder","onChange","event","input","target","regexp","RegExp","names","some","str","match","add","map","recipe","index","UserMenu","loggedUserData","page","setLoggedUserData","handleOnClick","localStorage","token_el_cocinillas","removeItem","_Fragment","href","role","data-toggle","aria-haspopup","aria-expanded","author","split","aria-labelledby","concat","recipes","onClick","Nav","_ref$state","state","setPagePosition","console","log","preventDefault","body","style","backgroundColor","data-target","pagination","totalRecipes","pagePosition","pagesCuantity","Math","ceil","handleClick","Number","aria-label","Array","x","i","RecipeCard","renderRecipe","getImage","imageName","GET_IMAGE","emptyImage","src","frontImage","alt","description","Recipe","actualRecipe","GET_AUTHOR_RECIPES","authorName","useEffect","fac","FastAverageColor","getColorAsync","querySelector","then","color","rgba","replace","catch","e","destroy","changeBackgroundColor","ingredients","ingredient","quantity","steps","step","findAuthor","filter","position","Steps","changeListQuantity","saveListChanges","allSteps","from","getElementsByClassName","minLength","maxLength","required","Ingredients","values","handleChange","allIngredients","allQuantity","allIngredientsCuantity","CREATE_RECIPE","NewRecipe","userData","newLoggedUserData","setRecipeName","_useState5","_useState6","setDescription","_useState7","_useState8","setIngredients","_useState9","_useState10","setSteps","_useState11","_useState12","setFrontImage","_useMutation","useMutation","createRecipe","newIngredients","push","splice","newSteps","handleOnChange","_event$target","files","renderImage","preview","file","reader","FileReader","readAsDataURL","onload","result","contains","onSubmit","image","NewUserData","location","rows","accept","MainPage","functions","findRecipesByPage","Pagination","Footer","GET_USER","Login","setLoginPage","sendUserData","email","setEmail","password","setPassword","message","setMessage","modal","divErrorMesssage","_useLazyQuery","useLazyQuery","_useLazyQuery2","getUser","_useLazyQuery2$","loginWhithPassword","token","forEach","display","overflow","authors","max","xmlns","width","height","fill","viewBox","d","data-dismiss","CREATE_USER","Register","setName","createUser","_ref2","MainModal","loginPage","tabIndex","App","isToken","table","Page","this","loginByToken","getTotalRecipes","qty","client","ApolloClient","uri","cache","InMemoryCache","addTypename","render","ApolloProvider"],"mappings":"oNAGe,SAASA,EAAQC,GAA4C,IAAzCC,EAAUD,EAAVC,WAAYC,EAAOF,EAAPE,QAASC,EAAeH,EAAfG,gBAAeC,EAC/BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAAAI,EACEL,oBAAS,GAAMM,EAAAJ,YAAAG,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAsBxBG,EAAaC,YAAGC,MAAAC,YAAA,wbAcpBC,EAE+BC,YAASL,EAAY,CAClDM,UAAW,CACPC,WAAYb,EACZI,eAHSU,GAAFJ,EAAPK,QAAcL,EAALI,OAAOE,EAAIN,EAAJM,KAqBxB,OAdIF,GACIV,IAAca,YAAIC,SAASC,eAAe,eAAeC,WAAWC,SAAS,UAC7EH,SAASC,eAAe,eAAeC,UAAUE,OAAO,SAI5DN,GAAqC,IAA7BO,OAAOC,KAAKR,GAAMS,SAC1BP,SAASC,eAAe,eAAeO,MAAQ,GAC/CzB,EAAc,IACdI,GAAa,GACbX,EAAQ,UACRC,EAAgBqB,EAAKW,mBAIrBC,eAAA,QAAMC,UAAU,2BAA0BC,SAAA,CACtCC,cAAA,SACIF,UAAU,uBACVG,KAAK,SACLC,KAAK,SACLC,KAAK,SACLC,GAAG,cACHC,aAAa,QACbC,SAAS,QACTC,YAAY,SACZC,SAlES,SAACC,GAClB,IAAMC,EAAQD,EAAME,OAEdC,EAAS,IAAIC,OAAOH,EAAMf,MAAO,KAEnCjC,EAAWoD,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAML,OAAa1B,YAAIwB,EAAMrB,WAAWC,SAAS,UAClFoB,EAAMrB,UAAU6B,IAAI,SAErBxD,EAAWoD,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAML,OAAY1B,YAAIwB,EAAMrB,WAAWC,SAAS,UAChFoB,EAAMrB,UAAUE,OAAO,SAG3BrB,EAAcwC,EAAMf,UAwDhBK,cAAA,YAAUI,GAAG,SAAQL,SAChB9B,EAAWyB,QAAU,GAAKhC,EAAWoD,MAAMK,KAAI,SAACC,EAAQC,GAAK,OAAKrB,cAAA,UAAoBL,MAAOyB,GAAdC,WC5EjF,SAASC,EAAQ7D,GAAwD,IAArDE,EAAOF,EAAPE,QAAS4D,EAAc9D,EAAd8D,eAAgBC,EAAI/D,EAAJ+D,KAAMC,EAAiBhE,EAAjBgE,kBAG1DC,EAAgB,SAACjB,GACG,WAApBA,EAAME,OAAOP,IACXuB,aAAaC,qBAAqBD,aAAaE,WAAW,uBACjD,cAATL,GAAiC,kBAATA,GAA0B7D,EAAQ,WAC9D8D,EAAkB,OACb9D,EAAQ8C,EAAME,OAAOP,KAE9B,OACEJ,cAAA8B,WAAA,CAAA/B,SACEC,cAAA,MAAIF,UAAU,aAAYC,SACxBF,eAAA,MAAIC,UAAU,oBAAmBC,SAAA,CAC/BC,cAAA,KACEF,UAAU,2BACViC,KAAK,IACL3B,GAAG,yBACH4B,KAAK,SACLC,cAAY,WACZC,gBAAc,OACdC,gBAAc,QAAOpC,SAEpBwB,EAAea,OAAOC,MAAM,KAAK,KAEpCxC,eAAA,OAAKC,UAAU,gBAAgBwC,kBAAgB,yBAAwBvC,SAAA,CACrEC,cAAA,KACEF,UAAS,iBAAAyC,OAAmBhB,EAAeiB,QAAQ9C,OAAS,KAAO,YACnEqC,KAAK,IACL3B,GAAG,gBACHqC,QAASf,EAAc3B,SACxB,YAGDC,cAAA,KAAGF,UAAU,gBAAgBM,GAAG,YAAY2B,KAAK,IAAIU,QAASf,EAAc3B,SAAC,kBAG7EC,cAAA,KAAGF,UAAU,gBAAgBM,GAAG,SAAS2B,KAAK,IAAIU,QAASf,EAAc3B,SAAC,qBClCvE,SAAS2C,EAAGjF,GAGvB,IAADkF,EAAAlF,EAFDmF,MAASrB,EAAcoB,EAAdpB,eAAgB5D,EAAOgF,EAAPhF,QAASkF,EAAeF,EAAfE,gBAAiBjF,EAAe+E,EAAf/E,gBAAiB4D,EAAImB,EAAJnB,KAAMC,EAAiBkB,EAAjBlB,kBAC1E/D,EAAUD,EAAVC,WAWA,OAFI6D,GAAkBA,EAAe7B,OAAS,GAAGoD,QAAQC,IAAI,QAASxB,GAGpE1B,eAAA,OAAKO,GAAG,MAAMN,UAAU,uCAAsCC,SAAA,CAC5DC,cAAA,OAAAD,SACEC,cAAA,KAAGF,UAAU,eAAeM,GAAG,OAAO2B,KAAK,IAAIU,QAXjC,SAAChC,GACnBA,EAAMuC,iBACN7D,SAAS8D,KAAKC,MAAMC,gBAAkB,2BACtCxF,EAAQ,WACRkF,EAAgB,IAOwD9C,SAAC,oBAKvEC,cAACxC,EAAQ,CAACE,WAAYA,EAAYC,QAASA,EAASC,gBAAiBA,IAEpE2D,EACCvB,cAACsB,EAAQ,CAACC,eAAgBA,EAAgB5D,QAASA,EAAS6D,KAAMA,EAAMC,kBAAmBA,IAE3FzB,cAAA,KAAGI,GAAG,QAAQ6B,cAAY,QAAQmB,cAAY,kBAAkBrB,KAAK,kBAAiBhC,SAAC,aC7BhF,SAASsD,EAAU5F,GAAmD,IAAhD6F,EAAY7F,EAAZ6F,aAAcC,EAAY9F,EAAZ8F,aAAcV,EAAepF,EAAfoF,gBACzDW,EAAgBC,KAAKC,KAAKJ,EAAe,IACzCK,EAAc,SAAClD,GACnBoC,EAAgBe,OAAOnD,EAAME,OAAOP,MAEtC,OACEJ,cAAA,OAAKF,UAAU,aAAa+D,aAAW,kBAAiB9D,SACtDC,cAAA,MAAIF,UAAU,aAAYC,SACvBb,YAAI4E,MAAMN,IAAgBrC,KAAI,SAAC4C,EAAGC,GAAC,OAClChE,cAAA,MAEEF,UAAS,iBAAAyC,OAAmByB,EAAI,EAAC,KAAAzB,OAAIgB,GAAgBS,GAAK,UAC1DvB,QAASkB,EAAY5D,SAErBC,cAAA,KAAGF,UAAU,YAAYiC,KAAK,IAAI3B,GAAE,GAAAmC,OAAKyB,GAAIjE,SAC1CiE,EAAI,KACH,QAAAzB,OANSyB,WCZV,I,EAAA,MAA0B,wCCK1B,SAASC,EAAUxG,GAA4B,IAAzB2D,EAAM3D,EAAN2D,OAAQ8C,EAAYzG,EAAZyG,aACrCC,EAAW,SAACC,GAChB,IAAMC,EAAY7F,YAAGC,MAAAC,YAAA,2IAOpBC,EACgCC,YAASyF,EAAW,CACnDxF,UAAW,CACTsB,KAAMiE,KAFFpF,EAAOL,EAAPK,QAASD,EAAKJ,EAALI,MAAOE,EAAIN,EAAJM,KAKxB,OAAID,GAAWD,EAAcuF,EACzBrF,GACF0C,aAAa1C,EAAKkF,SAAShE,MAAQlB,EAAKkF,SAASlF,KAC1CA,EAAKkF,eAFd,GAUF,OACEtE,eAAA,OAAKC,UAAU,OAAO2C,QALJ,SAAChC,GACnBA,EAAMuC,iBACNkB,EAAa9C,IAG8BrB,SAAA,CACzCC,cAAA,OAAKF,UAAU,cAAaC,SAC1BC,cAAA,OACEuE,IAAMJ,EAAS/C,EAAOoD,aAAeL,EAAS/C,EAAOoD,YAAYvF,MAASqF,EAC1ExE,UAAU,eACV2E,IAAKN,EAAS/C,EAAOoD,aAAeL,EAAS/C,EAAOoD,YAAYrE,SAGpEN,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBC,cAAA,MAAIF,UAAU,aAAYC,SAAEqB,EAAOtC,aACnCkB,cAAA,KAAGF,UAAU,YAAWC,SAAEqB,EAAOsD,cACjC7E,eAAA,KAAGC,UAAU,cAAaC,SAAA,CAAC,MAAIqB,EAAOgB,gB,cCpC/B,SAASuC,EAAMlH,GAAkC,IAA/BmH,EAAYnH,EAAZmH,aAAcV,EAAYzG,EAAZyG,aAgBvCW,EAAqBrG,YAAGC,MAAAC,YAAA,qaAqB7BC,EACgCC,YAASiG,EAAoB,CAC5DhG,UAAW,CACTiG,WAAYF,EAAaxC,OACzBjC,KAAMyE,EAAaJ,cAHCvF,GAATN,EAAPK,QAAcL,EAALI,MAAWJ,EAAJM,MAcxB,OARK0C,aAAaiD,EAAaJ,aAAevF,GAAQA,EAAKkF,WACzDxC,aAAa1C,EAAKkF,SAAShE,MAAQlB,EAAKkF,SAASlF,MAGnD8F,qBAAU,YA7CoB,WAC5B,IAAMC,EAAM,IAAIC,IAChBD,EACGE,cAAc/F,SAASgG,cAAc,QACrCC,MAAK,SAACC,GACLA,EAAQA,EAAMC,KAAKC,QAAQ,MAAO,UAClCpG,SAAS8D,KAAKC,MAAMC,gBAAkBkC,KAEvCG,OAAM,SAACC,GACN3C,QAAQC,IAAI0C,MAEhBT,EAAIU,UAmCJC,MAIA9F,eAAAiC,WAAA,CAAA/B,SAAA,CACEF,eAAA,OAAKO,GAAG,eAAcL,SAAA,CACpBC,cAAA,OACEF,UAAU,eACVyE,IAAK5C,aAAaiD,EAAaJ,aAAgBvF,GAAQA,EAAKuF,WAAWvF,MAASqF,EAChFG,IAAKG,EAAaJ,aAEpB3E,eAAA,OAAKO,GAAG,6BAA4BL,SAAA,CAClCC,cAAA,MAAAD,SAAK6E,EAAa9F,aAClBkB,cAAA,MAAAD,SAAK6E,EAAaF,oBAGtB7E,eAAA,OAAKO,GAAG,wBAAuBL,SAAA,CAC7BC,cAAA,MAAAD,SAAI,gBACJC,cAAA,MAAAD,SACG6E,EAAagB,YAAYzE,KAAI,SAAC0E,EAAY7B,GAAC,OAC1CnE,eAAA,MAAAE,SAAA,CACEF,eAAA,QAAMC,UAAU,mBAAkBC,SAAA,CAC/B8F,EAAWC,SAAU,MAAG,kBAAAvD,OAD+ByB,IAG1DhE,cAAA,QAAMF,UAAU,mBAAkBC,SAC/B8F,EAAWA,YAAU,mBAAAtD,OADmCyB,MAEpD,cAAAzB,OANcyB,YAW7BhE,cAAA,OAAKI,GAAG,kBAAiBL,SACtB6E,EAAamB,MAAM5E,KAAI,SAAC6E,EAAMhC,GAAC,OAC9BnE,eAAA,OAAKC,UAAU,WAAUC,SAAA,CACvBF,eAAA,QAAMC,UAAU,YAAWC,SAAA,CAAC,QAAMiE,EAAI,EAAE,QACxChE,cAAA,QAAAD,SAAOiG,MAAY,QAAAzD,OAFkByB,SAU1C/E,GAAQA,EAAKgH,WAAWzD,QAAQ9C,OAAS,GACxCG,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACvCC,cAAA,MAAAD,SAAI,yBACJC,cAAA,OAAKF,UAAU,iBAAgBC,SAC5Bd,GACCA,EAAKgH,WAAWzD,QACb0D,QAAO,SAAC9E,GAAM,OAAKA,EAAOtC,aAAe8F,EAAa9F,cACtDqC,KAAI,SAACC,EAAQ4C,GAAC,OACbhE,cAACiE,EAAU,CAA4BkC,SAAUnC,EAAI,EAAG5C,OAAQA,EAAQ8C,aAAcA,GAAa,iBAAA3B,OAAjEyB,e,cCzGrC,SAASoC,EAAK3I,GAA4D,IAAzD4I,EAAkB5I,EAAlB4I,mBAAoBF,EAAQ1I,EAAR0I,SAAUG,EAAe7I,EAAf6I,gBAAiB3G,EAAKlC,EAALkC,MAEvEgE,EAAc,SAAClD,GACnB4F,EAAmB5F,EAAO0F,IAO5B,OACEtG,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BC,cAAA,SAAOF,UAAU,aAAYC,SAAA,QAAAwC,OAAU4D,EAAW,EAAC,SACnDnG,cAAA,SACEC,KAAK,OACLE,KAAI,QAAAoC,OAAU4D,EAAW,GACzBrG,UAAU,OACVU,SAXe,WACnB,IAAM+F,EAAWzC,MAAM0C,KAAKrH,SAASsH,uBAAuB,SAAStF,KAAI,SAAC4C,GAAC,OAAKA,EAAEpE,SAClF2G,EAAgB,QAASC,IAUrB5G,MAAOA,EACP+G,UAAU,IACVC,UAAU,MACVC,UAAQ,IAEV5G,cAAA,UAAQyC,QAASkB,EAAa7D,UAAU,WAAUC,SAAC,MAGnDC,cAAA,UAAQyC,QAASkB,EAAa7D,UAAU,cAAaC,SAAC,SC1B7C,SAAS8G,EAAWpJ,GAA6D,IAA1D4I,EAAkB5I,EAAlB4I,mBAAoBF,EAAQ1I,EAAR0I,SAAUW,EAAMrJ,EAANqJ,OAAQR,EAAe7I,EAAf6I,gBAEpE3C,EAAc,SAAClD,GACnB4F,EAAmB5F,EAAO0F,IAGtBY,EAAe,WACnB,IAAMC,EAAiB9H,YAAIC,SAASsH,uBAAuB,oBAAoBtF,KAAI,SAAC4C,GAAC,OAAKA,EAAEpE,SACtFsH,EAAc/H,YAAIC,SAASsH,uBAAuB,aAAatF,KAAI,SAAC4C,GAAC,OAAKA,EAAEpE,SAC5EuH,EAAyBF,EAAe7F,KAAI,SAAC0E,EAAY7B,GAAC,MAAM,CACpE6B,WAAYA,EACZC,SAAUmB,EAAYjD,OAExBsC,EAAgB,cAAeY,IAEjC,OACErH,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBC,cAAA,SACEC,KAAK,OACLE,KAAI,cAAAoC,OAAgB4D,EAAW,GAC/BxG,MAAOmH,EAAOjB,WACd/F,UAAU,kBACVU,SAAUuG,EACVxG,YAAY,aACZmG,UAAU,IACVC,UAAU,KACVC,UAAQ,IAEV5G,cAAA,SACEC,KAAK,OACLE,KAAI,YAAAoC,OAAc4D,EAAW,GAC7BxG,MAAOmH,EAAOhB,SACdhG,UAAU,WACVU,SAAUuG,EACVxG,YAAY,gBAGhBP,cAAA,UAAQyC,QAASkB,EAAa7D,UAAU,iBAAgBC,SAAC,MAGzDC,cAAA,UAAQyC,QAASkB,EAAa7D,UAAU,oBAAmBC,SAAC,SCrClE,IAAMoH,EAAgB3I,YAAGC,MAAAC,YAAA,onBAiCV,SAAS0I,EAAUC,EAAUC,GAAoB,IAADzJ,EACjCC,mBAASuJ,EAAS9F,eAAea,QAAOrE,EAAAC,YAAAH,EAAA,GAA7DuE,EAAMrE,EAAA,GAAWI,GAAAJ,EAAA,GACYD,mBAAS,OAAKM,EAAAJ,YAAAG,EAAA,GAA3CW,EAAUV,EAAA,GAAEmJ,EAAanJ,EAAA,GAAAoJ,EACM1J,mBAAS,MAAK2J,EAAAzJ,YAAAwJ,EAAA,GAA7C9C,EAAW+C,EAAA,GAAEC,EAAcD,EAAA,GAAAE,EACI7J,mBAAS,CAC7C,CAAE+H,WAAY,GAAIC,SAAU,IAC5B,CAAED,WAAY,GAAIC,SAAU,MAC5B8B,EAAA5J,YAAA2J,EAAA,GAHK/B,EAAWgC,EAAA,GAAEC,EAAcD,EAAA,GAAAE,EAIRhK,mBAAS,CAAC,GAAI,KAAIiK,EAAA/J,YAAA8J,EAAA,GAArC/B,EAAKgC,EAAA,GAAEC,EAAQD,EAAA,GAAAE,EACcnK,mBAAS,MAAKoK,EAAAlK,YAAAiK,EAAA,GAA3CzD,EAAU0D,EAAA,GAAEC,EAAaD,EAAA,GAEhCpF,QAAQC,IAAIsE,EAAS9F,eAAenB,GAAIgC,GAAO,IAAAgG,EACxBC,YAAYlB,GAA5BmB,EAA0CtK,YAAAoK,EAAA,GAA9B,GAEb/B,EAAqB,SAAC5F,EAAO0F,GACjC,OAAQ1F,EAAME,OAAOb,WACnB,IAAK,iBACH,IAAMyI,EAAcrJ,YAAO0G,GAC3B2C,EAAeC,KAAK,CAAE3C,WAAY,GAAIC,SAAU,KAChD+B,EAAeU,GACf,MACF,IAAK,oBACH,GAA2B,IAAvB3C,EAAYlG,OAAc,CAC5B,IAAM6I,EAAcrJ,YAAO0G,GAC3B2C,EAAeE,OAAOtC,EAAU,GAChC0B,EAAeU,GAEjB,MACF,IAAK,WACH,IAAMG,EAAQxJ,YAAO6G,GACrB2C,EAASF,KAAK,IACdR,EAASU,GACT,MACF,IAAK,cACH,GAAqB,IAAjB3C,EAAMrG,OAAc,CACtB,IAAIgJ,EAAQxJ,YAAO6G,GACnB2C,EAASD,OAAOtC,EAAU,GAC1B6B,EAASU,MAoCXC,EAAiB,SAAClI,GAAW,IAADmI,EACVnI,EAAME,OAApBP,EAAEwI,EAAFxI,GAAIT,EAAKiJ,EAALjJ,MACZ,GAAW,eAAPS,GAAuBjB,SAASgG,cAAc,oBAAoB0D,MAAM,GAC1EC,IACAX,EAAchJ,SAASgG,cAAc,oBAAoB0D,MAAM,GAAG1I,WAElE,OAAQC,GACN,IAAK,aACHmH,EAAc5H,GACd,MACF,IAAK,cACH+H,EAAe/H,KAOjB2G,EAAkB,SAACrG,EAAMhB,GAChB,gBAATgB,GAAwB4H,EAAe5I,GAC9B,UAATgB,GAAkB+H,EAAS/I,IAG3B6J,EAAc,WAClB,IAAMC,EAAU5J,SAASC,eAAe,WAClC4J,EAAO7J,SAASgG,cAAc,oBAAoB0D,MAAM,GAC1DI,EAAS,IAAIC,WACjBD,EAAOE,cAAcH,GACrBC,EAAOG,OAAS,WACdL,EAAQxE,IAAM0E,EAAOI,OAChBN,EAAQ1J,UAAUiK,SAAS,UAC9BP,EAAQ1J,UAAUE,OAAO,WAI/B,OACEM,eAAA,QAAMO,GAAG,kBAAkBmJ,SAjEN,SAAC9I,GAEtB,GADAA,EAAMuC,iBACF7D,SAASgG,cAAc,oBAAoB0D,MAAM,GAAI,CACvD,IAAMG,EAAO7J,SAASgG,cAAc,oBAAoB0D,MAAM,GAC1DI,EAAS,IAAIC,WACjBD,EAAOE,cAAcH,GACrBC,EAAOG,OAAS,WACd,IAAMI,EAAQ,CAAEvK,KAAMgK,EAAOI,OAAQ7E,cACrC1B,QAAQC,IAAIsE,GACZvE,QAAQC,IAAI,CAAEX,SAAQtD,aAAY4F,cAAakB,cAAaG,QAAOyD,QAAOvK,KAAMgK,EAAOI,SACvFf,EAAa,CACXzJ,UAAW,CACTwI,SAAUA,EAAS9F,eACnBa,SACAtD,aACA4F,cACAkB,cACAG,QACAyD,WAEDpE,MAAK,SAACqE,GACPnC,EAAkBmC,GAClBtK,SAASuK,SAAS3H,KAAO,UA2CqBhC,SAAA,CAClDF,eAAA,OAAKO,GAAG,WAAUL,SAAA,CAChBC,cAAA,OACEuE,IAAI,iFACJnE,GAAG,UACHqE,IAAI,YAEN5E,eAAA,OAAKO,GAAG,UAASL,SAAA,CACfC,cAAA,SACEC,KAAK,OACLE,KAAK,aACLC,GAAG,aACHI,SAAUmI,EACVpI,YAAY,cACZmG,UAAU,IACVC,UAAU,KACVC,UAAQ,IAEV5G,cAAA,YACEO,YAAY,cACZH,GAAG,cACHD,KAAK,cACLwJ,KAAK,IACLnJ,SAAUmI,EACVhC,UAAU,cAIhB3G,cAAA,OAAKI,GAAG,wBAAuBL,SAC5B6F,EAAYzE,KAAI,SAAC2F,EAAQ9C,GAAC,OACzBhE,cAAC6G,EAAW,CACVC,OAAQA,EACRX,SAAUnC,EAEVqC,mBAAoBA,EACpBC,gBAAiBA,GAAgB,cAAA/D,OAFdyB,SAMzBhE,cAAA,OAAKI,GAAG,kBAAiBL,SACtBgG,EAAM5E,KAAI,SAACxB,EAAOqE,GAAC,OAClBhE,cAACoG,EAAK,CACJzG,MAAOA,EACPwG,SAAUnC,EAEVqC,mBAAoBA,EACpBC,gBAAiBA,GAAgB,QAAA/D,OAFpByB,SAMnBnE,eAAA,OAAKO,GAAG,cAAaL,SAAA,CACnBF,eAAA,SAAOO,GAAG,cAAaL,SAAA,CAAC,YAEtBC,cAAA,SAAOC,KAAK,OAAO2J,OAAO,UAAUxJ,GAAG,aAAaD,KAAK,QAAQK,SAAUmI,OAE7E3I,cAAA,UAAQI,GAAG,cAAcH,KAAK,SAAQF,SAAC,eCpMhC,SAAS8J,EAAQpM,GAM5B,IAADkF,EAAAlF,EALDmF,MAASpB,EAAImB,EAAJnB,KAAM+B,EAAYZ,EAAZY,aAAchC,EAAcoB,EAAdpB,eAAgBqD,EAAYjC,EAAZiC,aAAc/B,EAAeF,EAAfE,gBAC9CqB,EAAYzG,EAAzBqM,UAAa5F,aACbZ,EAAY7F,EAAZ6F,aACAyG,EAAiBtM,EAAjBsM,kBACAzC,EAAiB7J,EAAjB6J,kBAIA,OAAQ9F,GACN,IAAK,YACH,OACExB,cAAA,OAAKF,UAAU,YAAWC,SACvBC,cAACoH,EAAS,CAAC7F,eAAgBA,EAAgB+F,kBAAmBA,MAGrE,IAAK,gBACH,OACEtH,cAAA,OAAKF,UAAU,YAAWC,SACvBwB,EAAeiB,QAAQrB,KAAI,SAACC,EAAQ4C,GAAC,OACpChE,cAACiE,EAAU,CAAqB7C,OAAQA,EAAQ8C,aAAcA,GAAa,UAAA3B,OAAhDyB,SAInC,IAAK,UACH,OACEnE,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACvBgK,EAAkB5I,KAAI,SAACC,EAAQ4C,GAAC,OAC/BhE,cAACiE,EAAU,CAAqB7C,OAAQA,EAAQ8C,aAAcA,GAAa,UAAA3B,OAAhDyB,OAE7BhE,cAACgK,EAAU,CAAC1G,aAAcA,EAAcT,gBAAiBA,EAAiBU,aAAcA,OAI9F,IAAK,SACH,OACEvD,cAAA,OAAKF,UAAU,uBAAsBC,SACnCC,cAAC2E,EAAM,CAACC,aAAcA,EAAcV,aAAcA,OC1C7C,SAAS+F,IACtB,OACEjK,cAAA,UAAAD,SACEF,eAAA,KAAAE,SAAA,CAAG,oFACiF,IAClFC,cAAA,KAAG+B,KAAK,+BAA8BhC,SAAC,QAAO,OAAK,IACnDC,cAAA,KAAG+B,KAAK,6CAA4ChC,SAAC,cAAa,oB,gBCLpEmK,EAAW1L,YAAGC,MAAAC,YAAA,+aAuBL,SAASyL,EAAK1M,GAAkC,IAA/B2M,EAAY3M,EAAZ2M,aAAcC,EAAY5M,EAAZ4M,aAAYxM,EAC9BC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAAjCyM,EAAKvM,EAAA,GAAEwM,EAAQxM,EAAA,GAAAI,EACUL,mBAAS,MAAKM,EAAAJ,YAAAG,EAAA,GAAvCqM,EAAQpM,EAAA,GAAEqM,EAAWrM,EAAA,GAAAoJ,EACE1J,mBAAS,MAAK2J,EAAAzJ,YAAAwJ,EAAA,GAArCkD,EAAOjD,EAAA,GAAEkD,EAAUlD,EAAA,GAIpBkB,EAAiB,SAAClI,GAAW,IAADmI,EACVnI,EAAME,OAApBP,EAAEwI,EAAFxI,GAAIT,EAAKiJ,EAALjJ,MACD,UAAPS,GAAgBmK,EAAS5K,GAClB,aAAPS,GAAmBqK,EAAY9K,IAI/BgE,EAAc,SAAClD,GACK,aAApBA,EAAME,OAAOP,IAAmBgK,GAAa,GACzB,UAApB3J,EAAME,OAAOP,KACfjB,SAASC,eAAe,SAASO,MAAQ,GACzCR,SAASC,eAAe,YAAYO,MAAQ,GAC5C4K,EAAS,IACTE,EAAY,MAGVG,EAAK1L,YAAOC,SAASsH,uBAAuB,mBAC5CoE,EAAmB1L,SAASC,eAAe,iBAAgB0L,EAE9BC,YAAab,GAASc,EAAAhN,YAAA8M,EAAA,GAAlDG,EAAOD,EAAA,GAAAE,EAAAF,EAAA,GAAIjM,EAAKmM,EAALnM,MAAOE,EAAIiM,EAAJjM,KA4BzB,OA3BA8F,qBAAU,WACJ9F,IAE6B,MAA3BA,EAAKkM,oBAAoE,IAAtCN,EAAiBxL,UAAUK,QAChEmL,EAAiBxL,UAAUE,OAAO,WAClCoL,EAAW,kCAK+B,IAAtCE,EAAiBxL,UAAUK,QAAcmL,EAAiBxL,UAAUE,OAAO,WAC/EuD,QAAQC,IAAI,eAAgB9D,EAAKkM,oBACjCxJ,aAAaC,oBAAsB3C,EAAKkM,mBAAmBC,MAC3DR,EAAMS,SAAQ,SAACT,GAAK,OAAMA,EAAM1H,MAAMoI,QAAU,UAChDnM,SAAS8D,KAAKC,MAAMqI,SAAW,OAC/BlB,EAAapL,EAAKkM,mBAAmBK,WAGrCzM,IAEwC,IAAtC8L,EAAiBxL,UAAUK,QAC7BmL,EAAiBxL,UAAUE,OAAO,WAClCoL,EAAW,oCACNA,EAAW,uCAKpB9K,eAAAiC,WAAA,CAAA/B,SAAA,CACEC,cAAA,OAAKF,UAAU,eAAcC,SAC3BC,cAAA,MAAAD,SAAI,YAENF,eAAA,QAAAE,SAAA,CACEF,eAAA,SAAAE,SAAA,CAAO,SAELC,cAAA,SACEC,KAAK,QACLE,KAAK,QACLC,GAAG,QACHqL,IAAI,KACJ3L,UAAU,eACVU,SAAUmI,EACV/B,UAAQ,OAGZ/G,eAAA,SAAAE,SAAA,CAAO,YAELC,cAAA,SACEC,KAAK,WACLE,KAAK,WACLC,GAAG,WACHsG,UAAU,IACVC,UAAU,KACV7G,UAAU,eACVU,SAAUmI,EACV/B,UAAQ,OAGZ/G,eAAA,OAAKO,GAAG,gBAAeL,SAAA,CACrBF,eAAA,OAAK6L,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,KAAK,UAAUC,QAAQ,YAAW/L,SAAA,CAC/FC,cAAA,QAAM+L,EAAE,0EACR/L,cAAA,QAAM+L,EAAE,wHAETrB,KAEH1K,cAAA,KAAGyC,QAASkB,EAAavD,GAAG,WAAW2B,KAAK,IAAGhC,SAAC,aAGhDF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BC,cAAA,UACEC,KAAK,SACLH,UAAU,kBACV2C,QAAS,kBACPwI,EAAQ,CACNpM,UAAW,CACTyL,QACAE,eAGLzK,SACF,SAGDC,cAAA,UAAQI,GAAG,QAAQqC,QAASkB,EAAa1D,KAAK,SAASH,UAAU,oBAAoBkM,eAAa,QAAOjM,SAAC,mBCrIpH,I,EAAMkM,EAAczN,YAAGC,MAAAC,YAAA,+bAsBR,SAASwN,EAAQzO,GAAkC,IAA/B2M,EAAY3M,EAAZ2M,aAAcC,EAAY5M,EAAZ4M,aAAYxM,EACnCC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAA/BsC,EAAIpC,EAAA,GAAEoO,EAAOpO,EAAA,GAAAI,EACML,mBAAS,MAAKM,EAAAJ,YAAAG,EAAA,GAAjCmM,EAAKlM,EAAA,GAAEmM,EAAQnM,EAAA,GAAAoJ,EACU1J,mBAAS,MAAK2J,EAAAzJ,YAAAwJ,EAAA,GAAvCgD,EAAQ/C,EAAA,GAAEgD,EAAWhD,EAAA,GAAAE,EACE7J,mBAAS,MAAK8J,EAAA5J,YAAA2J,EAAA,GAArC+C,EAAO9C,EAAA,GAAE+C,EAAU/C,EAAA,GAEpBe,EAAiB,SAAClI,GAAW,IAADmI,EACVnI,EAAME,OAApBP,EAAEwI,EAAFxI,GAAIT,EAAKiJ,EAALjJ,MACD,SAAPS,GAAe+L,EAAQxM,GAChB,UAAPS,GAAgBmK,EAAS5K,GAClB,aAAPS,GAAmBqK,EAAY9K,GACxB,YAAPS,GAAkBuK,EAAWhL,IAClCyI,EACoBC,YAAY4D,GAA1BG,EAAsCpO,YAAAoK,EAAA,GAA5B,GACXyC,EAAmB1L,SAASC,eAAe,iBAC3CwL,EAAQzL,SAASgG,cAAc,mBAgDrC,OACEtF,eAAAiC,WAAA,CAAA/B,SAAA,CACEC,cAAA,OAAKF,UAAU,eAAcC,SAC3BC,cAAA,MAAAD,SAAI,eAENF,eAAA,QAAM0J,SAnDW,SAAC9I,GACpBA,EAAMuC,iBACNoJ,EAAW,CACTvN,UAAW,CACTsB,OACAmK,QACAE,cAEDpF,MAAK,SAAAiH,GAAsB,IAAnBpN,EAAIoN,EAAJpN,KAAMF,EAAKsN,EAALtN,MACXA,IAEwC,IAAtC8L,EAAiBxL,UAAUK,QAC7BmL,EAAiBxL,UAAUE,OAAO,WAClCoL,EAAW5L,IACN4L,EAAW5L,IAEhBE,IAEqB,MAAnBA,EAAKmN,YAA4D,IAAtCvB,EAAiBxL,UAAUK,SACxDiL,EAAW,4CACXE,EAAiBxL,UAAUE,OAAO,YAIb,MAAnBN,EAAKmN,aACmC,IAAtCvB,EAAiBxL,UAAUK,QAAcmL,EAAiBxL,UAAUE,OAAO,WAC/EuD,QAAQC,IAAI,gBAAiB9D,EAAKmN,YAClCzK,aAAaC,oBAAsB3C,EAAKmN,WAAWhB,MACnDR,EAAM1H,MAAMoI,QAAU,OACtBjB,EAAapL,EAAKmN,WAAWZ,eAsBJzL,SAAA,CAC3BF,eAAA,SAAAE,SAAA,CAAO,QAELC,cAAA,SACEC,KAAK,OACLE,KAAK,OACLC,GAAG,OACHqL,IAAI,KACJ3L,UAAU,eACVU,SAAUmI,EACV/B,UAAQ,OAGZ/G,eAAA,SAAAE,SAAA,CACG,IAAI,SAELC,cAAA,SACEC,KAAK,QACLE,KAAK,QACLC,GAAG,QACHqL,IAAI,KACJlL,YAAY,0BACZT,UAAU,eACVU,SAAUmI,EACV/B,UAAQ,OAGZ/G,eAAA,SAAAE,SAAA,CAAO,YACK,IACVC,cAAA,SACEC,KAAK,WACLE,KAAK,WACLC,GAAG,WACHsG,UAAU,IACVC,UAAU,KACV7G,UAAU,eACVU,SAAUmI,EACV/B,UAAQ,OAGZ/G,eAAA,OAAKO,GAAG,gBAAeL,SAAA,CACrBF,eAAA,OAAK6L,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,KAAK,UAAUC,QAAQ,YAAW/L,SAAA,CAC/FC,cAAA,QAAM+L,EAAE,0EACR/L,cAAA,QAAM+L,EAAE,wHAETrB,KAEH7K,eAAA,OAAKC,UAAU,qCAAoCC,SAAA,CACjDC,cAAA,UAAQC,KAAK,SAASH,UAAU,kBAAiBC,SAAC,SAGlDC,cAAA,UAAQC,KAAK,SAASH,UAAU,oBAAoBkM,eAAa,QAAQvJ,QAnE7D,WAClBtD,SAASC,eAAe,SAASO,MAAQ,GACzCR,SAASC,eAAe,YAAYO,MAAQ,GAC5CR,SAASC,eAAe,QAAQO,MAAQ,GACxC4K,EAAS,IACTE,EAAY,IACZ0B,EAAQ,IACR/B,GAAa,GAC6B,IAAtCS,EAAiBxL,UAAUK,QAAcmL,EAAiBxL,UAAUE,OAAO,YA2DqBQ,SAAC,mBC5I1F,SAASuM,EAAS7O,GAAoB,IAAjB4M,EAAY5M,EAAZ4M,aAAYxM,EACZC,oBAAS,GAAKC,EAAAC,YAAAH,EAAA,GAAzC0O,EAASxO,EAAA,GAAEqM,EAAYrM,EAAA,GAE9B,OACEiC,cAAA,OAAKF,UAAU,aAAaM,GAAG,iBAAiBoM,SAAS,KAAIzM,SAC3DC,cAAA,OAAKF,UAAU,eAAcC,SAC3BC,cAAA,OAAKF,UAAU,gBAAeC,SAC3BwM,EACCvM,cAACmK,EAAK,CAACC,aAAcA,EAAcC,aAAcA,IAEjDrK,cAACkM,EAAQ,CAAC9B,aAAcA,EAAcC,aAAcA,UCNhE,IAAM9L,EAAaC,YAAGC,MAAAC,YAAA,imBAmCP,SAAS+N,IAAO,IAAD5O,EACJC,mBAAS,WAAUC,EAAAC,YAAAH,EAAA,GAApC2D,EAAIzD,EAAA,GAAEJ,EAAOI,EAAA,GAAAI,EACwBL,mBAAS,MAAKM,EAAAJ,YAAAG,EAAA,GAAnDoD,EAAcnD,EAAA,GAAEqD,EAAiBrD,EAAA,GAAAoJ,EACA1J,mBAAS,MAAK2J,EAAAzJ,YAAAwJ,EAAA,GAA/C5C,EAAY6C,EAAA,GAAE7J,EAAe6J,EAAA,GAAAE,EACI7J,mBAAS,GAAE8J,EAAA5J,YAAA2J,EAAA,GAA5CpE,EAAYqE,EAAA,GAAE/E,EAAe+E,EAAA,GAEpCzI,SAAS8D,KAAKC,MAAMC,gBAAkB,2BAEtC,IAUMuJ,IAAU/K,aAAkC,oBAGlDhD,EAEiCC,YAASL,EAAY,CACpDM,UAAW,CACT2C,KAAM+B,EACN6H,MAAOzJ,aAAkC,oBACzC+K,aAJI1N,EAAOL,EAAPK,QAASD,EAAKJ,EAALI,MAAOE,EAAIN,EAAJM,KAqBxB,OAbA8F,qBAAU,WACR,GAAI9F,EAAM,CAAC,IAOH0N,EAAQ,IANd,SAAeC,EAAMrJ,EAAchC,EAAgBqD,GACjDiI,KAAKD,KAAOA,EACZC,KAAKtJ,aAAeA,EACpBsJ,KAAKtL,eAAiBA,EACtBsL,KAAKjI,aAAeA,EAER,CAAUpD,EAAM+B,EAAchC,EAAgBqD,GAC5D9B,QAAQ6J,MAAMA,OAId3N,EAAgB,KAChBD,EAAa,GAANwD,OAAUxD,GACjBE,GACEA,EAAK6N,cAAgB7N,EAAK6N,eAAiBvL,GAC7CE,EAAkBxC,EAAK6N,cAGvB9M,cAAA8B,WAAA,CAAA/B,SACEF,eAAA,OAAKO,GAAG,OAAML,SAAA,CACZC,cAAC0C,EAAG,CACFE,MAAO,CACLrB,iBACAsB,kBACAlF,UACAC,kBACA4D,OACAC,qBAEF/D,WAAYuB,EAAK8N,kBAEnB/M,cAAC6J,EAAQ,CACPjH,MAAO,CAAEpB,OAAM+B,eAAchC,iBAAgBqD,eAAc/B,mBAC3DiH,UAAW,CAAE5F,aArDF,SAACjF,GACpBE,SAASuK,SAAS3H,KAAO,OACzBpE,EAAQ,UACRC,EAAgBqB,KAmDRqE,aAAcrE,EAAK8N,gBAAgBC,IACnCjD,kBAAmB9K,EAAK8K,kBACxBzC,kBA7DgB,SAACrI,GACzBwC,EAAkBxC,MA8DZe,cAACiK,EAAM,KAELhL,EAAK6N,eAAiBvL,GACtBvB,cAACsM,EAAS,CAAC7K,kBAAmBA,EAAmB4I,aA/DtC,SAACpL,GAAI,OAAKwC,EAAkBxC,iBAmCjD,E,8CC/EIgO,EAAS,IAAIC,IAAa,CAE9BC,IAAI,+DACJC,MAAO,IAAIC,IAAc,CACvBC,aAAa,MAIjBC,iBACEvN,cAACwN,IAAc,CAACP,OAAQA,EAAOlN,SAC7BC,cAACyM,EAAG,MAENtN,SAASC,eAAe,W","file":"static/js/main.e228827b.chunk.js","sourcesContent":["import { useQuery, gql } from \"@apollo/client\"\r\nimport React, { useState } from \"react\"\r\n\r\nexport default function Searcher({ optionList, setPage, setActualRecipe }) {\r\n    const [inputValue, setInputValue] = useState(\"\")\r\n    const [sendQuery, setSendQuery] = useState(false)\r\n\r\n    // saves the input data into the state\r\n    // if the input have the error class is deleted\r\n    const handleChange = (event) => {\r\n        const input = event.target\r\n\r\n        const regexp = new RegExp(input.value, \"i\")\r\n\r\n        if(!optionList.names.some(str => str.match(regexp)) && ![...input.classList].includes(\"error\") ){\r\n            input.classList.add(\"error\")\r\n        }\r\n        if(optionList.names.some(str => str.match(regexp)) && [...input.classList].includes(\"error\")){\r\n            input.classList.toggle(\"error\")\r\n        }\r\n\r\n        setInputValue(input.value)\r\n    }\r\n\r\n\r\n    // looks for the searched recipe if doesnt get a recipe\r\n    // toogles the error class in the input\r\n    const GET_RECIPE = gql`\r\n        query findRecipeByName($recipeName: String, $sendQuery: Boolean!) {\r\n            findRecipeByName(recipeName: $recipeName) @skip(if: $sendQuery) {\r\n                author\r\n                recipeName\r\n                description\r\n                ingredients {\r\n                    quantity\r\n                    ingredient\r\n                }\r\n                steps\r\n                frontImage\r\n            }\r\n        }\r\n    `;\r\n\r\n    const { loading, error, data } = useQuery(GET_RECIPE, {\r\n        variables: {\r\n            recipeName: inputValue,\r\n            sendQuery,\r\n        },\r\n    });\r\n\r\n    if (error) {\r\n        if (sendQuery && ![...document.getElementById(\"searchInput\").classList].includes(\"error\")) {\r\n            document.getElementById(\"searchInput\").classList.toggle(\"error\");\r\n        }\r\n    }\r\n\r\n    if (data && Object.keys(data).length !== 0) {\r\n        document.getElementById(\"searchInput\").value = \"\";\r\n        setInputValue(\"\");\r\n        setSendQuery(false);\r\n        setPage(\"recipe\");\r\n        setActualRecipe(data.findRecipeByName);\r\n    }\r\n\r\n    return (\r\n        <form className=\"form-inline my-2 my-lg-0\" >\r\n            <input\r\n                className=\"form-control mr-sm-2\"\r\n                type=\"search\"\r\n                list=\"search\"\r\n                name=\"search\"\r\n                id=\"searchInput\"\r\n                autoComplete=\"false\"\r\n                autoSave=\"false\"\r\n                placeholder=\"Search\"\r\n                onChange={handleChange}\r\n            ></input>\r\n            <datalist id=\"search\">\r\n                {inputValue.length >= 2 && optionList.names.map((recipe, index) => <option key={index} value={recipe}></option>)}\r\n            </datalist>\r\n        </form>\r\n    );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function UserMenu({ setPage, loggedUserData, page, setLoggedUserData }) {\r\n  // open the user menu options or\r\n  // logout erasing the token and changing page if is necesary\r\n  const handleOnClick = (event) => {\r\n    if (event.target.id === \"logout\") {\r\n      if (localStorage.token_el_cocinillas) localStorage.removeItem(\"token_el_cocinillas\")\r\n      if (page === \"newRecipe\" || page === \"authorRecipes\") setPage(\"recipes\")\r\n      setLoggedUserData(null)\r\n    } else setPage(event.target.id)\r\n  }\r\n  return (\r\n    <>\r\n      <ul className=\"navbar-nav\">\r\n        <li className=\"nav-item dropdown\">\r\n          <a\r\n            className=\"nav-link dropdown-toggle\"\r\n            href=\"#\"\r\n            id=\"navbarDropdownMenuLink\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            {loggedUserData.author.split(\" \")[0]}\r\n          </a>\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\r\n            <a\r\n              className={`dropdown-item ${loggedUserData.recipes.length ? null : \"disabled\"}`}\r\n              href=\"#\"\r\n              id=\"authorRecipes\"\r\n              onClick={handleOnClick}\r\n            >\r\n              Recipes\r\n            </a>\r\n            <a className=\"dropdown-item\" id=\"newRecipe\" href=\"#\" onClick={handleOnClick}>\r\n              Create recipe\r\n            </a>\r\n            <a className=\"dropdown-item\" id=\"logout\" href=\"#\" onClick={handleOnClick}>\r\n              Logout\r\n            </a>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\n\r\nimport Searcher from \"./Searcher\"\r\nimport UserMenu from \"./UserMenu\"\r\n\r\nexport default function Nav({\r\n  state: { loggedUserData, setPage, setPagePosition, setActualRecipe, page, setLoggedUserData },\r\n  optionList\r\n}) {\r\n  // sends to the initial page (Recipes page 0)\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    document.body.style.backgroundColor = \"rgba(221, 219, 219, 0.5)\"\r\n    setPage(\"recipes\")\r\n    setPagePosition(0)\r\n  }\r\n  if (loggedUserData && loggedUserData.length > 0) console.log(\"user:\", loggedUserData)\r\n\r\n  return (\r\n    <nav id=\"nav\" className=\"navbar navbar-expand-lg navbar-light\">\r\n      <div>\r\n        <a className=\"navbar-brand\" id=\"logo\" href=\"#\" onClick={handleClick}>\r\n          El cocinillas\r\n        </a>\r\n      </div>\r\n\r\n      <Searcher optionList={optionList} setPage={setPage} setActualRecipe={setActualRecipe} />\r\n\r\n      {loggedUserData ? (\r\n        <UserMenu loggedUserData={loggedUserData} setPage={setPage} page={page} setLoggedUserData={setLoggedUserData} />\r\n      ) : (\r\n        <a id=\"login\" data-toggle=\"modal\" data-target=\"#staticBackdrop\" href=\"#staticBackdrop\">\r\n          Login\r\n        </a>\r\n      )}\r\n    </nav>\r\n  )\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function pagination({ totalRecipes, pagePosition, setPagePosition }) {\r\n  const pagesCuantity = Math.ceil(totalRecipes / 12)\r\n  const handleClick = (event) => {\r\n    setPagePosition(Number(event.target.id))\r\n  }\r\n  return (\r\n    <div className=\"navigation\" aria-label=\"Page navigation\">\r\n      <ul className=\"pagination\">\r\n        {[...Array(pagesCuantity)].map((x, i) => (\r\n          <li\r\n            key={`page-${i}`}\r\n            className={`page-item page${i + 1} ${pagePosition == i && \"active\"}`}\r\n            onClick={handleClick}\r\n          >\r\n            <a className=\"page-link\" href=\"#\" id={`${i}`}>\r\n              {i + 1}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/empty-image.49b43d24.jpg\";","import { useQuery, gql } from \"@apollo/client\"\r\nimport React from \"react\"\r\n\r\nimport emptyImage from \"../empty-image.jpg\"\r\n\r\nexport default function RecipeCard({ recipe, renderRecipe }) {\r\n  const getImage = (imageName) => {\r\n    const GET_IMAGE = gql`\r\n      query getImage($name: String!) {\r\n        getImage(name: $name) {\r\n          data\r\n          name\r\n        }\r\n      }\r\n    `\r\n    const { loading, error, data } = useQuery(GET_IMAGE, {\r\n      variables: {\r\n        name: imageName\r\n      }\r\n    })\r\n    if (loading || error) return emptyImage\r\n    if (data) {\r\n      localStorage[data.getImage.name] = data.getImage.data\r\n      return data.getImage\r\n    }\r\n  }\r\n  // call's the renderRecipe to render all the recipe info\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    renderRecipe(recipe)\r\n  }\r\n  return (\r\n    <div className=\"card\" onClick={handleClick}>\r\n      <div className=\"img-wrapper\">\r\n        <img\r\n          src={(getImage(recipe.frontImage) && getImage(recipe.frontImage).data) || emptyImage}\r\n          className=\"card-img-top\"\r\n          alt={getImage(recipe.frontImage) && getImage(recipe.frontImage).name}\r\n        />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{recipe.recipeName}</h5>\r\n        <p className=\"card-text\">{recipe.description}</p>\r\n        <p className=\"card-author\">By {recipe.author}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useQuery, gql } from \"@apollo/client\"\r\nimport React, { useState, useEffect } from \"react\"\r\nimport FastAverageColor from \"fast-average-color\"\r\n\r\nimport RecipeCard from \"../RecipeCard\"\r\nimport emptyImage from \"../../empty-image.jpg\"\r\n\r\nexport default function Recipe({ actualRecipe, renderRecipe }) {\r\n  // get the primary color of the img and sets the background color\r\n  // of body\r\n  const changeBackgroundColor = () => {\r\n    const fac = new FastAverageColor()\r\n    fac\r\n      .getColorAsync(document.querySelector(\"img\"))\r\n      .then((color) => {\r\n        color = color.rgba.replace(\",1)\", \",0.35)\")\r\n        document.body.style.backgroundColor = color\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n    fac.destroy()\r\n  }\r\n  const GET_AUTHOR_RECIPES = gql`\r\n    query ($authorName: String!, $name: String!) {\r\n      findAuthor(author: $authorName) {\r\n        author\r\n        recipes {\r\n          author\r\n          recipeName\r\n          description\r\n          ingredients {\r\n            quantity\r\n            ingredient\r\n          }\r\n          steps\r\n          frontImage\r\n        }\r\n      }\r\n      getImage(name: $name) {\r\n        data\r\n        name\r\n      }\r\n    }\r\n  `\r\n  const { loading, error, data } = useQuery(GET_AUTHOR_RECIPES, {\r\n    variables: {\r\n      authorName: actualRecipe.author,\r\n      name: actualRecipe.frontImage\r\n    }\r\n  })\r\n  if (!localStorage[actualRecipe.frontImage] && data && data.getImage) {\r\n    localStorage[data.getImage.name] = data.getImage.data\r\n  }\r\n\r\n  useEffect(() => {\r\n    changeBackgroundColor()\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <div id=\"top-secction\">\r\n        <img\r\n          className=\"recipe-image\"\r\n          src={localStorage[actualRecipe.frontImage] || (data && data.frontImage.data) || emptyImage}\r\n          alt={actualRecipe.frontImage}\r\n        ></img>\r\n        <div id=\"name-description-container\">\r\n          <h2>{actualRecipe.recipeName}</h2>\r\n          <h4>{actualRecipe.description}</h4>\r\n        </div>\r\n      </div>\r\n      <div id=\"ingredients-container\">\r\n        <h4>Ingredients</h4>\r\n        <ul>\r\n          {actualRecipe.ingredients.map((ingredient, i) => (\r\n            <li key={`ingredient-${i}`}>\r\n              <span className=\"ingredients-span\" key={`ingredient-qty-${i}`}>\r\n                {ingredient.quantity}{\" \"}\r\n              </span>\r\n              <span className=\"ingredients-span\" key={`ingredient-name-${i}`}>\r\n                {ingredient.ingredient}\r\n              </span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div id=\"steps-container\">\r\n        {actualRecipe.steps.map((step, i) => (\r\n          <div className=\"step-div\" key={`step-${i}`}>\r\n            <span className=\"step-span\">Step {i + 1}: </span>\r\n            <span>{step}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {/*\r\n      if the user got more than 1 recipe \r\n      render the author recipes minus the actual recipe\r\n      */}\r\n      {data && data.findAuthor.recipes.length > 1 && (\r\n        <div className=\"author-recipes-container\">\r\n          <h3>More author recipes:</h3>\r\n          <div className=\"author-recipes\">\r\n            {data &&\r\n              data.findAuthor.recipes\r\n                .filter((recipe) => recipe.recipeName !== actualRecipe.recipeName)\r\n                .map((recipe, i) => (\r\n                  <RecipeCard key={`author-recipe-${i}`} position={i + 1} recipe={recipe} renderRecipe={renderRecipe} />\r\n                ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function Steps({ changeListQuantity, position, saveListChanges, value }) {\r\n  // calls the handleListsQuantityChange to add or delete a li\r\n  const handleClick = (event) => {\r\n    changeListQuantity(event, position)\r\n  }\r\n  // saves all the steps data and sends it to the NewRecipe state\r\n  const handleChange = () => {\r\n    const allSteps = Array.from(document.getElementsByClassName(\"step\")).map((x) => x.value)\r\n    saveListChanges(\"steps\", allSteps)\r\n  }\r\n  return (\r\n    <div className=\"step-container\">\r\n      <label className=\"step-label\">{`Step ${position + 1}:  `}</label>\r\n      <input\r\n        type=\"text\"\r\n        name={`step-${position + 1}`}\r\n        className=\"step\"\r\n        onChange={handleChange}\r\n        value={value}\r\n        minLength=\"5\"\r\n        maxLength=\"300\"\r\n        required\r\n      />\r\n      <button onClick={handleClick} className=\"add-step\">\r\n        +\r\n      </button>\r\n      <button onClick={handleClick} className=\"delete-step\">\r\n        -\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function Ingredients({ changeListQuantity, position, values, saveListChanges }) {\r\n  // calls the changeListQuantity to add or delete a li\r\n  const handleClick = (event) => {\r\n    changeListQuantity(event, position)\r\n  }\r\n  // saves all the ingredients data and sends it to the NewRecipe state\r\n  const handleChange = () => {\r\n    const allIngredients = [...document.getElementsByClassName(\"ingredient-name\")].map((x) => x.value)\r\n    const allQuantity = [...document.getElementsByClassName(\"quantity\")].map((x) => x.value)\r\n    const allIngredientsCuantity = allIngredients.map((ingredient, i) => ({\r\n      ingredient: ingredient,\r\n      quantity: allQuantity[i]\r\n    }))\r\n    saveListChanges(\"ingredients\", allIngredientsCuantity)\r\n  }\r\n  return (\r\n    <div className=\"ingredient-container\">\r\n      <div className=\"ingredient\">\r\n        <input\r\n          type=\"text\"\r\n          name={`ingredient-${position + 1}`}\r\n          value={values.ingredient}\r\n          className=\"ingredient-name\"\r\n          onChange={handleChange}\r\n          placeholder=\"Ingredient\"\r\n          minLength=\"3\"\r\n          maxLength=\"30\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name={`quantity-${position + 1}`}\r\n          value={values.quantity}\r\n          className=\"quantity\"\r\n          onChange={handleChange}\r\n          placeholder=\"Quantity\"\r\n        />\r\n      </div>\r\n      <button onClick={handleClick} className=\"add-ingredient\">\r\n        +\r\n      </button>\r\n      <button onClick={handleClick} className=\"delete-ingredient\">\r\n        -\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import { useMutation, gql } from \"@apollo/client\"\r\nimport React, { useState } from \"react\"\r\n\r\nimport Steps from \"./Steps\"\r\nimport Ingredients from \"./Ingredients\"\r\n\r\nconst CREATE_RECIPE = gql`\r\n  mutation createRecipe(\r\n    $userData: Author!\r\n    $author: String!\r\n    $recipeName: String!\r\n    $description: String!\r\n    $ingredients: [Ingredient!]\r\n    $steps: [String!]\r\n    $image: Image\r\n  ) {\r\n    createRecipe(\r\n      userData: $userData\r\n      author: $author\r\n      recipeName: $recipeName\r\n      description: $description\r\n      ingredients: $ingredients\r\n      steps: $steps\r\n      image: $image\r\n    ) {\r\n      id\r\n      author\r\n      recipes {\r\n        description\r\n        ingredients {\r\n          quantity\r\n          ingredient\r\n        }\r\n        steps\r\n        frontImage\r\n      }\r\n    }\r\n  }\r\n`\r\nexport default function NewRecipe(userData, newLoggedUserData) {\r\n  const [author, setAuthor] = useState(userData.loggedUserData.author)\r\n  const [recipeName, setRecipeName] = useState(null)\r\n  const [description, setDescription] = useState(null)\r\n  const [ingredients, setIngredients] = useState([\r\n    { ingredient: \"\", quantity: \"\" },\r\n    { ingredient: \"\", quantity: \"\" }\r\n  ])\r\n  const [steps, setSteps] = useState([\"\", \"\"])\r\n  const [frontImage, setFrontImage] = useState(null)\r\n\r\n  console.log(userData.loggedUserData.id, author)\r\n  const [createRecipe] = useMutation(CREATE_RECIPE)\r\n  // adds and deletes the li of steps and ingrdients\r\n  const changeListQuantity = (event, position) => {\r\n    switch (event.target.className) {\r\n      case \"add-ingredient\":\r\n        const newIngredients = [...ingredients]\r\n        newIngredients.push({ ingredient: \"\", quantity: \"\" })\r\n        setIngredients(newIngredients)\r\n        break\r\n      case \"delete-ingredient\":\r\n        if (ingredients.length !== 1) {\r\n          const newIngredients = [...ingredients]\r\n          newIngredients.splice(position, 1)\r\n          setIngredients(newIngredients)\r\n        }\r\n        break\r\n      case \"add-step\":\r\n        const newSteps = [...steps]\r\n        newSteps.push(\"\")\r\n        setSteps(newSteps)\r\n        break\r\n      case \"delete-step\":\r\n        if (steps.length !== 1) {\r\n          let newSteps = [...steps]\r\n          newSteps.splice(position, 1)\r\n          setSteps(newSteps)\r\n        }\r\n        break\r\n    }\r\n  }\r\n  // send a POST with the img data and another with the\r\n  // user and state data\r\n  const handleOnSubmit = (event) => {\r\n    event.preventDefault()\r\n    if (document.querySelector(\"input[type=file]\").files[0]) {\r\n      const file = document.querySelector(\"input[type=file]\").files[0]\r\n      var reader = new FileReader()\r\n      reader.readAsDataURL(file)\r\n      reader.onload = () => {\r\n        const image = { data: reader.result, frontImage }\r\n        console.log(userData)\r\n        console.log({ author, recipeName, description, ingredients, steps, image, data: reader.result })\r\n        createRecipe({\r\n          variables: {\r\n            userData: userData.loggedUserData,\r\n            author,\r\n            recipeName,\r\n            description,\r\n            ingredients,\r\n            steps,\r\n            image\r\n          }\r\n        }).then((NewUserData) => {\r\n          newLoggedUserData(NewUserData)\r\n          document.location.href = \"/\"\r\n        })\r\n      }\r\n    }\r\n  }\r\n  // saves the data into the state\r\n  // if is a img calls renderImage() too\r\n  const handleOnChange = (event) => {\r\n    const { id, value } = event.target\r\n    if (id === \"frontImage\" && document.querySelector(\"input[type=file]\").files[0]) {\r\n      renderImage()\r\n      setFrontImage(document.querySelector(\"input[type=file]\").files[0].name)\r\n    } else {\r\n      switch (id) {\r\n        case \"recipeName\":\r\n          setRecipeName(value)\r\n          break\r\n        case \"description\":\r\n          setDescription(value)\r\n          break\r\n      }\r\n    }\r\n  }\r\n  // saves the data of steps and ingrdients\r\n  //  into the state\r\n  const saveListChanges = (type, data) => {\r\n    if (type === \"ingredients\") setIngredients(data)\r\n    if (type === \"steps\") setSteps(data)\r\n  }\r\n  // shows the loaded img on top of the page\r\n  const renderImage = () => {\r\n    const preview = document.getElementById(\"preview\")\r\n    const file = document.querySelector(\"input[type=file]\").files[0]\r\n    var reader = new FileReader()\r\n    reader.readAsDataURL(file)\r\n    reader.onload = () => {\r\n      preview.src = reader.result\r\n      if (!preview.classList.contains(\"width\")) {\r\n        preview.classList.toggle(\"width\")\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <form id=\"new-recipe-form\" onSubmit={handleOnSubmit}>\r\n      <div id=\"top-form\">\r\n        <img\r\n          src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n          id=\"preview\"\r\n          alt=\"preview\"\r\n        ></img>\r\n        <div id=\"top-div\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"recipeName\"\r\n            id=\"recipeName\"\r\n            onChange={handleOnChange}\r\n            placeholder=\"Recipe name\"\r\n            minLength=\"3\"\r\n            maxLength=\"40\"\r\n            required\r\n          />\r\n          <textarea\r\n            placeholder=\"Description\"\r\n            id=\"description\"\r\n            name=\"description\"\r\n            rows=\"5\"\r\n            onChange={handleOnChange}\r\n            maxLength=\"150\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n      <div id=\"ingredients-container\">\r\n        {ingredients.map((values, i) => (\r\n          <Ingredients\r\n            values={values}\r\n            position={i}\r\n            key={`ingredient-${i}`}\r\n            changeListQuantity={changeListQuantity}\r\n            saveListChanges={saveListChanges}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div id=\"steps-container\">\r\n        {steps.map((value, i) => (\r\n          <Steps\r\n            value={value}\r\n            position={i}\r\n            key={`step-${i}`}\r\n            changeListQuantity={changeListQuantity}\r\n            saveListChanges={saveListChanges}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div id=\"form-bottom\">\r\n        <label id=\"file-button\">\r\n          Add image\r\n          <input type=\"file\" accept=\"image/*\" id=\"frontImage\" name=\"image\" onChange={handleOnChange} />\r\n        </label>\r\n        <button id=\"form-button\" type=\"submit\">\r\n          Send\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React from \"react\"\r\n\r\nimport Pagination from \"../Pagination\"\r\nimport RecipeCard from \"../RecipeCard\"\r\nimport Recipe from \"./Recipe\"\r\nimport NewRecipe from \"./new recipe/NewRecipe\"\r\n\r\nexport default function MainPage({\r\n  state: { page, pagePosition, loggedUserData, actualRecipe, setPagePosition },\r\n  functions: { renderRecipe },\r\n  totalRecipes,\r\n  findRecipesByPage,\r\n  newLoggedUserData\r\n}) {\r\n  // render the main section of the page depending\r\n  // on witch page is set\r\n  switch (page) {\r\n    case \"newRecipe\":\r\n      return (\r\n        <div className=\"container\">\r\n          {<NewRecipe loggedUserData={loggedUserData} newLoggedUserData={newLoggedUserData} />}\r\n        </div>\r\n      )\r\n    case \"authorRecipes\":\r\n      return (\r\n        <div className=\"container\">\r\n          {loggedUserData.recipes.map((recipe, i) => (\r\n            <RecipeCard key={`recipe-${i}`} recipe={recipe} renderRecipe={renderRecipe} />\r\n          ))}\r\n        </div>\r\n      )\r\n    case \"recipes\":\r\n      return (\r\n        <div className=\"container\">\r\n          {findRecipesByPage.map((recipe, i) => (\r\n            <RecipeCard key={`recipe-${i}`} recipe={recipe} renderRecipe={renderRecipe} />\r\n          ))}\r\n          <Pagination totalRecipes={totalRecipes} setPagePosition={setPagePosition} pagePosition={pagePosition} />\r\n        </div>\r\n      )\r\n\r\n    case \"recipe\":\r\n      return (\r\n        <div className=\"container recipe-pag\">\r\n          <Recipe actualRecipe={actualRecipe} renderRecipe={renderRecipe} />\r\n        </div>\r\n      )\r\n  }\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer>\r\n      <p>\r\n        This project is made by Roger Sanchez if you like his project you can find him in{\" \"}\r\n        <a href=\"https://github.com/Roger-san\">Git</a> and{\" \"}\r\n        <a href=\"https://www.linkedin.com/in/roger-sanchez/\">linkedin </a>\r\n        ❤️\r\n      </p>\r\n    </footer>\r\n  )\r\n}\r\n","import { useLazyQuery, gql } from \"@apollo/client\"\r\nimport React, { useState, useEffect } from \"react\"\r\n\r\nconst GET_USER = gql`\r\n  query loginWhithPassword($email: String!, $password: String!) {\r\n    loginWhithPassword(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        id\r\n        author\r\n        recipes {\r\n          author\r\n          recipeName\r\n          description\r\n          ingredients {\r\n            quantity\r\n            ingredient\r\n          }\r\n          steps\r\n          frontImage\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default function Login({ setLoginPage, sendUserData }) {\r\n  const [email, setEmail] = useState(null)\r\n  const [password, setPassword] = useState(null)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  // post the form data if is a success closes the modal\r\n  // else show a error message to the user\r\n  const handleOnChange = (event) => {\r\n    const { id, value } = event.target\r\n    if (id === \"email\") setEmail(value)\r\n    if (id === \"password\") setPassword(value)\r\n  }\r\n  // changes to the register modal or\r\n  // close and reset all the Login values and states\r\n  const handleClick = (event) => {\r\n    if (event.target.id === \"register\") setLoginPage(false)\r\n    if (event.target.id === \"close\") {\r\n      document.getElementById(\"email\").value = \"\"\r\n      document.getElementById(\"password\").value = \"\"\r\n      setEmail(\"\")\r\n      setPassword(\"\")\r\n    }\r\n  }\r\n  const modal = [...document.getElementsByClassName(\"modal-backdrop\")]\r\n  const divErrorMesssage = document.getElementById(\"error-message\")\r\n\r\n  const [getUser, { error, data }] = useLazyQuery(GET_USER)\r\n  useEffect(() => {\r\n    if (data) {\r\n      // if the data is null shows a error message\r\n      if (data.loginWhithPassword == null && divErrorMesssage.classList.length === 0) {\r\n        divErrorMesssage.classList.toggle(\"display\")\r\n        setMessage(\" Email or password incorrect\")\r\n      }\r\n      // if everything is ok hidde the error message if is on\r\n      // and closes the modal, then saves the token and the user data\r\n      else {\r\n        if (divErrorMesssage.classList.length !== 0) divErrorMesssage.classList.toggle(\"display\")\r\n        console.log(\"User looged:\", data.loginWhithPassword)\r\n        localStorage.token_el_cocinillas = data.loginWhithPassword.token\r\n        modal.forEach((modal) => (modal.style.display = \"none\"))\r\n        document.body.style.overflow = \"auto\"\r\n        sendUserData(data.loginWhithPassword.authors)\r\n      }\r\n    }\r\n    if (error) {\r\n      // show a error message if the query fails\r\n      if (divErrorMesssage.classList.length === 0) {\r\n        divErrorMesssage.classList.toggle(\"display\")\r\n        setMessage(\"User or password are incorrect \")\r\n      } else setMessage(\"User or password are incorrect \")\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-header\">\r\n        <h1>Login</h1>\r\n      </div>\r\n      <form>\r\n        <label>\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            max=\"40\"\r\n            className=\"form-control\"\r\n            onChange={handleOnChange}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          Password:\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            minLength=\"6\"\r\n            maxLength=\"16\"\r\n            className=\"form-control\"\r\n            onChange={handleOnChange}\r\n            required\r\n          />\r\n        </label>\r\n        <div id=\"error-message\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#D9212C\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path>\r\n            <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"></path>\r\n          </svg>\r\n          {message}\r\n        </div>\r\n        <a onClick={handleClick} id=\"register\" href=\"#\">\r\n          Register\r\n        </a>\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            onClick={() =>\r\n              getUser({\r\n                variables: {\r\n                  email,\r\n                  password\r\n                }\r\n              })\r\n            }\r\n          >\r\n            Send\r\n          </button>\r\n          <button id=\"close\" onClick={handleClick} type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">\r\n            Close\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n","import { useMutation, gql } from \"@apollo/client\"\r\nimport React, { useState } from \"react\"\r\n\r\nconst CREATE_USER = gql`\r\n  mutation createUser($name: String!, $email: String!, $password: String!) {\r\n    createUser(name: $name, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        id\r\n        author\r\n        recipes {\r\n          author\r\n          recipeName\r\n          description\r\n          ingredients {\r\n            quantity\r\n            ingredient\r\n          }\r\n          steps\r\n          frontImage\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\nexport default function Register({ setLoginPage, sendUserData }) {\r\n  const [name, setName] = useState(null)\r\n  const [email, setEmail] = useState(null)\r\n  const [password, setPassword] = useState(null)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  const handleOnChange = (event) => {\r\n    const { id, value } = event.target\r\n    if (id === \"name\") setName(value)\r\n    if (id === \"email\") setEmail(value)\r\n    if (id === \"password\") setPassword(value)\r\n    if (id === \"message\") setMessage(value)\r\n  }\r\n  const [createUser] = useMutation(CREATE_USER)\r\n  const divErrorMesssage = document.getElementById(\"error-message\")\r\n  const modal = document.querySelector(\".modal-backdrop\")\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    createUser({\r\n      variables: {\r\n        name,\r\n        email,\r\n        password\r\n      }\r\n    }).then(({ data, error }) => {\r\n      if (error) {\r\n        // show a error message if the query fails\r\n        if (divErrorMesssage.classList.length === 0) {\r\n          divErrorMesssage.classList.toggle(\"display\")\r\n          setMessage(error)\r\n        } else setMessage(error)\r\n      }\r\n      if (data) {\r\n        // if the data is null shows a error message\r\n        if (data.createUser == null && divErrorMesssage.classList.length === 0) {\r\n          setMessage(\" The name or the email is already in use\")\r\n          divErrorMesssage.classList.toggle(\"display\")\r\n        }\r\n        // if everything is ok hidde the error message if is on\r\n        // and closes the modal, then saves the token and the user data\r\n        if (data.createUser != null) {\r\n          if (divErrorMesssage.classList.length !== 0) divErrorMesssage.classList.toggle(\"display\")\r\n          console.log(\"User created:\", data.createUser)\r\n          localStorage.token_el_cocinillas = data.createUser.token\r\n          modal.style.display = \"none\"\r\n          sendUserData(data.createUser.authors)\r\n        }\r\n      }\r\n    })\r\n  }\r\n  // reset everything and change the page to Login\r\n  const handleClick = () => {\r\n    document.getElementById(\"email\").value = \"\"\r\n    document.getElementById(\"password\").value = \"\"\r\n    document.getElementById(\"name\").value = \"\"\r\n    setEmail(\"\")\r\n    setPassword(\"\")\r\n    setName(\"\")\r\n    setLoginPage(true)\r\n    if (divErrorMesssage.classList.length !== 0) divErrorMesssage.classList.toggle(\"display\")\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-header\">\r\n        <h1>Register</h1>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Name:\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            max=\"20\"\r\n            className=\"form-control\"\r\n            onChange={handleOnChange}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          {\" \"}\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            max=\"40\"\r\n            placeholder=\"No need of a real Email\"\r\n            className=\"form-control\"\r\n            onChange={handleOnChange}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          Password:{\" \"}\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            minLength=\"6\"\r\n            maxLength=\"16\"\r\n            className=\"form-control\"\r\n            onChange={handleOnChange}\r\n            required\r\n          />\r\n        </label>\r\n        <div id=\"error-message\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#D9212C\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path>\r\n            <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"></path>\r\n          </svg>\r\n          {message}\r\n        </div>\r\n        <div className=\"modal-footer register-modal-footer\">\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Send\r\n          </button>\r\n          <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={handleClick}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport Login from \"./Login\"\r\nimport Register from \"./Register\"\r\n\r\nexport default function MainModal({ sendUserData }) {\r\n  const [loginPage, setLoginPage] = useState(true)\r\n\r\n  return (\r\n    <div className=\"modal fade\" id=\"staticBackdrop\" tabIndex=\"-1\">\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          {loginPage ? (\r\n            <Login setLoginPage={setLoginPage} sendUserData={sendUserData} />\r\n          ) : (\r\n            <Register setLoginPage={setLoginPage} sendUserData={sendUserData} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useQuery, gql } from \"@apollo/client\"\r\nimport React, { useState, useEffect } from \"react\"\r\n\r\nimport Nav from \"./components/nav/Nav\"\r\nimport MainPage from \"./components/main/MainPage\"\r\nimport Footer from \"./components/Footer\"\r\nimport MainModal from \"./components/modal/MainModal\"\r\n\r\nconst GET_RECIPE = gql`\r\n  query ($page: Int!, $token: String, $isToken: Boolean!) {\r\n    getTotalRecipes {\r\n      qty\r\n      names \r\n    }\r\n    findRecipesByPage(page: $page) {\r\n      author\r\n      recipeName\r\n      description\r\n      ingredients {\r\n        quantity\r\n        ingredient\r\n      }\r\n      steps\r\n      frontImage\r\n    }\r\n    loginByToken(token: $token) @include(if: $isToken) {\r\n      id\r\n      author\r\n      recipes {\r\n        author\r\n        recipeName\r\n        description\r\n        ingredients {\r\n          quantity\r\n          ingredient\r\n        }\r\n        steps\r\n        frontImage\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default function App() {\r\n  const [page, setPage] = useState(\"recipes\")\r\n  const [loggedUserData, setLoggedUserData] = useState(null)\r\n  const [actualRecipe, setActualRecipe] = useState(null)\r\n  const [pagePosition, setPagePosition] = useState(0)\r\n\r\n  document.body.style.backgroundColor = \"rgba(221, 219, 219, 0.5)\"\r\n\r\n  const newLoggedUserData = (data) => {\r\n    setLoggedUserData(data)\r\n  }\r\n  const sendUserData = (data) => setLoggedUserData(data)\r\n  // render the clicked recipe page\r\n  const renderRecipe = (data) => {\r\n    document.location.href = \"#nav\"\r\n    setPage(\"recipe\")\r\n    setActualRecipe(data)\r\n  }\r\n  const isToken = localStorage[\"token_el_cocinillas\"] ? true : false\r\n  // load multiples of 12 recipes, all the names of the recipes\r\n  // for the options of the searcher\r\n  // and loads the user if exist a token\r\n  \r\n  const { loading, error, data } = useQuery(GET_RECIPE, {\r\n    variables: {\r\n      page: pagePosition,\r\n      token: localStorage[\"token_el_cocinillas\"],\r\n      isToken\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      function Table(Page, pagePosition, loggedUserData, actualRecipe) {\r\n        this.Page = Page\r\n        this.pagePosition = pagePosition\r\n        this.loggedUserData = loggedUserData\r\n        this.actualRecipe = actualRecipe\r\n      }\r\n      const table = new Table(page, pagePosition, loggedUserData, actualRecipe)\r\n      console.table(table)\r\n    }\r\n  })\r\n\r\n  if (loading) return null\r\n  if (error) return `${error}`\r\n  if (data) {\r\n    if (data.loginByToken && data.loginByToken !== loggedUserData) {\r\n      setLoggedUserData(data.loginByToken)\r\n    }\r\n    return (\r\n      <>\r\n        <div id=\"body\">\r\n          <Nav\r\n            state={{\r\n              loggedUserData,\r\n              setPagePosition,\r\n              setPage,\r\n              setActualRecipe,\r\n              page,\r\n              setLoggedUserData\r\n            }}\r\n            optionList={data.getTotalRecipes}\r\n          />\r\n          <MainPage\r\n            state={{ page, pagePosition, loggedUserData, actualRecipe, setPagePosition }}\r\n            functions={{ renderRecipe }}\r\n            totalRecipes={data.getTotalRecipes.qty}\r\n            findRecipesByPage={data.findRecipesByPage}\r\n            newLoggedUserData={newLoggedUserData}\r\n          />\r\n          <Footer />\r\n          {/* puede que falle si al final implemento la opcion de no usar tokens */}\r\n          {!data.loginByToken && !loggedUserData && (\r\n            <MainModal setLoggedUserData={setLoggedUserData} sendUserData={sendUserData} />\r\n          )}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { render } from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nimport \"./scss.scss\"\r\nimport \"bootstrap/dist/js/bootstrap.min\"\r\nimport \"jquery/dist/jquery.min\"\r\n\r\nimport { ApolloClient, InMemoryCache, ApolloProvider } from \"@apollo/client\"\r\n\r\nconst client = new ApolloClient({\r\n  // uri: \"http://localhost:4000/\",\r\n  uri: `https://el-cocinillas-graphql-api-production.up.railway.app/`,\r\n  cache: new InMemoryCache({\r\n    addTypename: false\r\n  })\r\n})\r\n\r\nrender(\r\n  <ApolloProvider client={client}>\r\n    <App />\r\n  </ApolloProvider>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}