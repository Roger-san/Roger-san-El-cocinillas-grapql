(this["webpackJsonpel-cocinillas"]=this["webpackJsonpel-cocinillas"]||[]).push([[0],{48:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a,i=n(3),s=n(33),c=n(4),r=n(11),o=n(68),l=n(61),d=n(10),g=n(0);function u(e){var t=e.optionList,n=e.setPage,s=e.setActualRecipe,u=Object(i.useState)(""),m=Object(c.a)(u,2),j=m[0],p=m[1],b=Object(i.useState)(!1),h=Object(c.a)(b,2),O=h[0],f=h[1],x=Object(o.a)(a||(a=Object(r.a)(["\n        query findRecipeByName($recipeName: String, $sendQuery: Boolean!) {\n            findRecipeByName(recipeName: $recipeName) @skip(if: $sendQuery) {\n                author\n                recipeName\n                description\n                ingredients {\n                    quantity\n                    ingredient\n                }\n                steps\n                frontImage\n            }\n        }\n    "]))),v=Object(l.a)(x,{variables:{recipeName:j,sendQuery:O}}),y=(v.loading,v.error),N=v.data;return y&&O&&!Object(d.a)(document.getElementById("searchInput").classList).includes("error")&&document.getElementById("searchInput").classList.toggle("error"),N&&0!==Object.keys(N).length&&(document.getElementById("searchInput").value="",p(""),f(!1),n("recipe"),s(N.findRecipeByName)),Object(g.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[Object(g.jsx)("input",{className:"form-control mr-sm-2",type:"search",list:"search",name:"search",id:"searchInput",autoComplete:"false",autoSave:"false",placeholder:"Search",onChange:function(e){var n=e.target,a=new RegExp(n.value,"i");t.names.some((function(e){return e.match(a)}))||Object(d.a)(n.classList).includes("error")||n.classList.add("error"),t.names.some((function(e){return e.match(a)}))&&Object(d.a)(n.classList).includes("error")&&n.classList.toggle("error"),p(n.value)}}),Object(g.jsx)("datalist",{id:"search",children:j.length>=2&&t.names.map((function(e,t){return Object(g.jsx)("option",{value:e},t)}))})]})}function m(e){var t=e.setPage,n=e.loggedUserData,a=e.page,i=e.setLoggedUserData,s=function(e){"logout"===e.target.id?(localStorage.token_el_cocinillas&&localStorage.removeItem("token_el_cocinillas"),"newRecipe"!==a&&"authorRecipes"!==a||t("recipes"),i(null)):t(e.target.id)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("ul",{className:"navbar-nav",children:Object(g.jsxs)("li",{className:"nav-item dropdown",children:[Object(g.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:n.author.split(" ")[0]}),Object(g.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(g.jsx)("a",{className:"dropdown-item ".concat(n.recipes.length?null:"disabled"),href:"#",id:"authorRecipes",onClick:s,children:"Recipes"}),Object(g.jsx)("a",{className:"dropdown-item",id:"newRecipe",href:"#",onClick:s,children:"Create recipe"}),Object(g.jsx)("a",{className:"dropdown-item",id:"logout",href:"#",onClick:s,children:"Logout"})]})]})})})}function j(e){var t=e.state,n=t.loggedUserData,a=t.setPage,i=t.setPagePosition,s=t.setActualRecipe,c=t.page,r=t.setLoggedUserData,o=e.optionList;return n&&n.length>0&&console.log("user:",n),Object(g.jsxs)("nav",{id:"nav",className:"navbar navbar-expand-lg navbar-light",children:[Object(g.jsx)("div",{children:Object(g.jsx)("a",{className:"navbar-brand",id:"logo",href:"#",onClick:function(e){e.preventDefault(),document.body.style.backgroundColor="rgba(221, 219, 219, 0.5)",a("recipes"),i(0)},children:"El cocinillas"})}),Object(g.jsx)(u,{optionList:o,setPage:a,setActualRecipe:s}),n?Object(g.jsx)(m,{loggedUserData:n,setPage:a,page:c,setLoggedUserData:r}):Object(g.jsx)("a",{id:"login","data-toggle":"modal","data-target":"#staticBackdrop",href:"#staticBackdrop",children:"Login"})]})}function p(e){var t=e.totalRecipes,n=e.pagePosition,a=e.setPagePosition,i=Math.ceil(t/12),s=function(e){a(Number(e.target.id))};return Object(g.jsx)("div",{className:"navigation","aria-label":"Page navigation",children:Object(g.jsx)("ul",{className:"pagination",children:Object(d.a)(Array(i)).map((function(e,t){return Object(g.jsx)("li",{className:"page-item page".concat(t+1," ").concat(n==t&&"active"),onClick:s,children:Object(g.jsx)("a",{className:"page-link",href:"#",id:"".concat(t),children:t+1})},"page-".concat(t))}))})})}var b,h=n.p+"static/media/empty-image.49b43d24.jpg";function O(e){var t=e.recipe,n=e.renderRecipe,a=function(e){var t=Object(o.a)(b||(b=Object(r.a)(["\n      query getImage($name: String!) {\n        getImage(name: $name) {\n          data\n          name\n        }\n      }\n    "]))),n=Object(l.a)(t,{variables:{name:e}}),a=n.loading,i=n.error,s=n.data;return a||i?h:s?(localStorage[s.getImage.name]=s.getImage.data,s.getImage):void 0};return Object(g.jsxs)("div",{className:"card",onClick:function(e){e.preventDefault(),n(t)},children:[Object(g.jsx)("div",{className:"img-wrapper",children:Object(g.jsx)("img",{src:a(t.frontImage)&&a(t.frontImage).data||h,className:"card-img-top",alt:a(t.frontImage)&&a(t.frontImage).name})}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h5",{className:"card-title",children:t.recipeName}),Object(g.jsx)("p",{className:"card-text",children:t.description}),Object(g.jsxs)("p",{className:"card-author",children:["By ",t.author]})]})]})}var f,x=n(37);function v(e){var t=e.actualRecipe,n=e.renderRecipe,a=Object(o.a)(f||(f=Object(r.a)(["\n    query ($authorName: String!, $name: String!) {\n      findAuthor(author: $authorName) {\n        author\n        recipes {\n          author\n          recipeName\n          description\n          ingredients {\n            quantity\n            ingredient\n          }\n          steps\n          frontImage\n        }\n      }\n      getImage(name: $name) {\n        data\n        name\n      }\n    }\n  "]))),s=Object(l.a)(a,{variables:{authorName:t.author,name:t.frontImage}}),c=(s.loading,s.error,s.data);return!localStorage[t.frontImage]&&c&&c.getImage&&(localStorage[c.getImage.name]=c.getImage.data),Object(i.useEffect)((function(){!function(){var e=new x.a;e.getColorAsync(document.querySelector("img")).then((function(e){e=e.rgba.replace(",1)",",0.35)"),document.body.style.backgroundColor=e})).catch((function(e){console.log(e)})),e.destroy()}()})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{id:"top-secction",children:[Object(g.jsx)("img",{className:"recipe-image",src:localStorage[t.frontImage]||c&&c.frontImage.data||h,alt:t.frontImage}),Object(g.jsxs)("div",{id:"name-description-container",children:[Object(g.jsx)("h2",{children:t.recipeName}),Object(g.jsx)("h4",{children:t.description})]})]}),Object(g.jsxs)("div",{id:"ingredients-container",children:[Object(g.jsx)("h4",{children:"Ingredients"}),Object(g.jsx)("ul",{children:t.ingredients.map((function(e,t){return Object(g.jsxs)("li",{children:[Object(g.jsxs)("span",{className:"ingredients-span",children:[e.quantity," "]},"ingredient-qty-".concat(t)),Object(g.jsx)("span",{className:"ingredients-span",children:e.ingredient},"ingredient-name-".concat(t))]},"ingredient-".concat(t))}))})]}),Object(g.jsx)("div",{id:"steps-container",children:t.steps.map((function(e,t){return Object(g.jsxs)("div",{className:"step-div",children:[Object(g.jsxs)("span",{className:"step-span",children:["Step ",t+1,": "]}),Object(g.jsx)("span",{children:e})]},"step-".concat(t))}))}),c&&c.findAuthor.recipes.length>1&&Object(g.jsxs)("div",{className:"author-recipes-container",children:[Object(g.jsx)("h3",{children:"More author recipes:"}),Object(g.jsx)("div",{className:"author-recipes",children:c&&c.findAuthor.recipes.filter((function(e){return e.recipeName!==t.recipeName})).map((function(e,t){return Object(g.jsx)(O,{position:t+1,recipe:e,renderRecipe:n},"author-recipe-".concat(t))}))})]})]})}var y,N=n(70);function w(e){var t=e.changeListQuantity,n=e.position,a=e.saveListChanges,i=e.value,s=function(e){t(e,n)};return Object(g.jsxs)("div",{className:"step-container",children:[Object(g.jsx)("label",{className:"step-label",children:"Step ".concat(n+1,":  ")}),Object(g.jsx)("input",{type:"text",name:"step-".concat(n+1),className:"step",onChange:function(){var e=Array.from(document.getElementsByClassName("step")).map((function(e){return e.value}));a("steps",e)},value:i,minLength:"5",maxLength:"300",required:!0}),Object(g.jsx)("button",{onClick:s,className:"add-step",children:"+"}),Object(g.jsx)("button",{onClick:s,className:"delete-step",children:"-"})]})}function L(e){var t=e.changeListQuantity,n=e.position,a=e.values,i=e.saveListChanges,s=function(e){t(e,n)},c=function(){var e=Object(d.a)(document.getElementsByClassName("ingredient-name")).map((function(e){return e.value})),t=Object(d.a)(document.getElementsByClassName("quantity")).map((function(e){return e.value})),n=e.map((function(e,n){return{ingredient:e,quantity:t[n]}}));i("ingredients",n)};return Object(g.jsxs)("div",{className:"ingredient-container",children:[Object(g.jsxs)("div",{className:"ingredient",children:[Object(g.jsx)("input",{type:"text",name:"ingredient-".concat(n+1),value:a.ingredient,className:"ingredient-name",onChange:c,placeholder:"Ingredient",minLength:"3",maxLength:"30",required:!0}),Object(g.jsx)("input",{type:"text",name:"quantity-".concat(n+1),value:a.quantity,className:"quantity",onChange:c,placeholder:"Quantity"})]}),Object(g.jsx)("button",{onClick:s,className:"add-ingredient",children:"+"}),Object(g.jsx)("button",{onClick:s,className:"delete-ingredient",children:"-"})]})}var S=Object(o.a)(y||(y=Object(r.a)(["\n  mutation createRecipe(\n    $userData: Author!\n    $author: String!\n    $recipeName: String!\n    $description: String!\n    $ingredients: [Ingredient!]\n    $steps: [String!]\n    $image: Image\n  ) {\n    createRecipe(\n      userData: $userData\n      author: $author\n      recipeName: $recipeName\n      description: $description\n      ingredients: $ingredients\n      steps: $steps\n      image: $image\n    ) {\n      id\n      author\n      recipes {\n        description\n        ingredients {\n          quantity\n          ingredient\n        }\n        steps\n        frontImage\n      }\n    }\n  }\n"])));function k(e,t){var n=Object(i.useState)(e.loggedUserData.author),a=Object(c.a)(n,2),s=a[0],r=(a[1],Object(i.useState)(null)),o=Object(c.a)(r,2),l=o[0],u=o[1],m=Object(i.useState)(null),j=Object(c.a)(m,2),p=j[0],b=j[1],h=Object(i.useState)([{ingredient:"",quantity:""},{ingredient:"",quantity:""}]),O=Object(c.a)(h,2),f=O[0],x=O[1],v=Object(i.useState)(["",""]),y=Object(c.a)(v,2),k=y[0],I=y[1],R=Object(i.useState)(null),A=Object(c.a)(R,2),C=A[0],P=A[1];console.log(e.loggedUserData.id,s);var D=Object(N.a)(S),q=Object(c.a)(D,1)[0],B=function(e,t){switch(e.target.className){case"add-ingredient":var n=Object(d.a)(f);n.push({ingredient:"",quantity:""}),x(n);break;case"delete-ingredient":if(1!==f.length){var a=Object(d.a)(f);a.splice(t,1),x(a)}break;case"add-step":var i=Object(d.a)(k);i.push(""),I(i);break;case"delete-step":if(1!==k.length){var s=Object(d.a)(k);s.splice(t,1),I(s)}}},$=function(e){var t=e.target,n=t.id,a=t.value;if("frontImage"===n&&document.querySelector("input[type=file]").files[0])E(),P(document.querySelector("input[type=file]").files[0].name);else switch(n){case"recipeName":u(a);break;case"description":b(a)}},U=function(e,t){"ingredients"===e&&x(t),"steps"===e&&I(t)},E=function(){var e=document.getElementById("preview"),t=document.querySelector("input[type=file]").files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.src=n.result,e.classList.contains("width")||e.classList.toggle("width")}};return Object(g.jsxs)("form",{id:"new-recipe-form",onSubmit:function(n){if(n.preventDefault(),document.querySelector("input[type=file]").files[0]){var a=document.querySelector("input[type=file]").files[0],i=new FileReader;i.readAsDataURL(a),i.onload=function(){var n={data:i.result,frontImage:C};console.log(e),console.log({author:s,recipeName:l,description:p,ingredients:f,steps:k,image:n,data:i.result}),q({variables:{userData:e.loggedUserData,author:s,recipeName:l,description:p,ingredients:f,steps:k,image:n}}).then((function(e){t(e),document.location.href="/"}))}}},children:[Object(g.jsxs)("div",{id:"top-form",children:[Object(g.jsx)("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",id:"preview",alt:"preview"}),Object(g.jsxs)("div",{id:"top-div",children:[Object(g.jsx)("input",{type:"text",name:"recipeName",id:"recipeName",onChange:$,placeholder:"Recipe name",minLength:"3",maxLength:"40",required:!0}),Object(g.jsx)("textarea",{placeholder:"Description",id:"description",name:"description",rows:"5",onChange:$,maxLength:"150"})]})]}),Object(g.jsx)("div",{id:"ingredients-container",children:f.map((function(e,t){return Object(g.jsx)(L,{values:e,position:t,changeListQuantity:B,saveListChanges:U},"ingredient-".concat(t))}))}),Object(g.jsx)("div",{id:"steps-container",children:k.map((function(e,t){return Object(g.jsx)(w,{value:e,position:t,changeListQuantity:B,saveListChanges:U},"step-".concat(t))}))}),Object(g.jsxs)("div",{id:"form-bottom",children:[Object(g.jsxs)("label",{id:"file-button",children:["Add image",Object(g.jsx)("input",{type:"file",accept:"image/*",id:"frontImage",name:"image",onChange:$})]}),Object(g.jsx)("button",{id:"form-button",type:"submit",children:"Send"})]})]})}function I(e){var t=e.state,n=t.page,a=t.pagePosition,i=t.loggedUserData,s=t.actualRecipe,c=t.setPagePosition,r=e.functions.renderRecipe,o=e.totalRecipes,l=e.findRecipesByPage,d=e.newLoggedUserData;switch(n){case"newRecipe":return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)(k,{loggedUserData:i,newLoggedUserData:d})});case"authorRecipes":return Object(g.jsx)("div",{className:"container",children:i.recipes.map((function(e,t){return Object(g.jsx)(O,{recipe:e,renderRecipe:r},"recipe-".concat(t))}))});case"recipes":return Object(g.jsxs)("div",{className:"container",children:[l.map((function(e,t){return Object(g.jsx)(O,{recipe:e,renderRecipe:r},"recipe-".concat(t))})),Object(g.jsx)(p,{totalRecipes:o,setPagePosition:c,pagePosition:a})]});case"recipe":return Object(g.jsx)("div",{className:"container recipe-pag",children:Object(g.jsx)(v,{actualRecipe:s,renderRecipe:r})})}}function R(){return Object(g.jsx)("footer",{children:Object(g.jsxs)("p",{children:["This project is made by Roger Sanchez if you like his project you can find him in"," ",Object(g.jsx)("a",{href:"https://github.com/Roger-san",children:"Git"})," and"," ",Object(g.jsx)("a",{href:"https://www.linkedin.com/in/roger-sanchez/",children:"linkedin "}),"\u2764\ufe0f"]})})}var A,C,P=n(65),D=Object(o.a)(A||(A=Object(r.a)(["\n  query loginWhithPassword($email: String!, $password: String!) {\n    loginWhithPassword(email: $email, password: $password) {\n      token\n      user {\n        id\n        author\n        recipes {\n          author\n          recipeName\n          description\n          ingredients {\n            quantity\n            ingredient\n          }\n          steps\n          frontImage\n        }\n      }\n    }\n  }\n"])));function q(e){var t=e.setLoginPage,n=e.sendUserData,a=Object(i.useState)(null),s=Object(c.a)(a,2),r=s[0],o=s[1],l=Object(i.useState)(null),u=Object(c.a)(l,2),m=u[0],j=u[1],p=Object(i.useState)(null),b=Object(c.a)(p,2),h=b[0],O=b[1],f=function(e){var t=e.target,n=t.id,a=t.value;"email"===n&&o(a),"password"===n&&j(a)},x=function(e){"register"===e.target.id&&t(!1),"close"===e.target.id&&(document.getElementById("email").value="",document.getElementById("password").value="",o(""),j(""))},v=Object(d.a)(document.getElementsByClassName("modal-backdrop")),y=document.getElementById("error-message"),N=Object(P.a)(D),w=Object(c.a)(N,2),L=w[0],S=w[1],k=S.error,I=S.data;return Object(i.useEffect)((function(){I&&(null==I.loginWhithPassword&&0===y.classList.length?(y.classList.toggle("display"),O(" Email or password incorrect")):(0!==y.classList.length&&y.classList.toggle("display"),console.log("User looged:",I.loginWhithPassword),localStorage.token_el_cocinillas=I.loginWhithPassword.token,v.forEach((function(e){return e.style.display="none"})),document.body.style.overflow="auto",n(I.loginWhithPassword.authors))),k&&(0===y.classList.length?(y.classList.toggle("display"),O("User or password are incorrect ")):O("User or password are incorrect "))})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"modal-header",children:Object(g.jsx)("h1",{children:"Login"})}),Object(g.jsxs)("form",{children:[Object(g.jsxs)("label",{children:["Email:",Object(g.jsx)("input",{type:"email",name:"email",id:"email",max:"40",className:"form-control",onChange:f,required:!0})]}),Object(g.jsxs)("label",{children:["Password:",Object(g.jsx)("input",{type:"password",name:"password",id:"password",minLength:"6",maxLength:"16",className:"form-control",onChange:f,required:!0})]}),Object(g.jsxs)("div",{id:"error-message",children:[Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#D9212C",viewBox:"0 0 16 16",children:[Object(g.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(g.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),h]}),Object(g.jsx)("a",{onClick:x,id:"register",href:"#",children:"Register"}),Object(g.jsxs)("div",{className:"modal-footer",children:[Object(g.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return L({variables:{email:r,password:m}})},children:"Send"}),Object(g.jsx)("button",{id:"close",onClick:x,type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})]})]})]})}var B,$=Object(o.a)(C||(C=Object(r.a)(["\n  mutation createUser($name: String!, $email: String!, $password: String!) {\n    createUser(name: $name, email: $email, password: $password) {\n      token\n      user {\n        id\n        author\n        recipes {\n          author\n          recipeName\n          description\n          ingredients {\n            quantity\n            ingredient\n          }\n          steps\n          frontImage\n        }\n      }\n    }\n  }\n"])));function U(e){var t=e.setLoginPage,n=e.sendUserData,a=Object(i.useState)(null),s=Object(c.a)(a,2),r=s[0],o=s[1],l=Object(i.useState)(null),d=Object(c.a)(l,2),u=d[0],m=d[1],j=Object(i.useState)(null),p=Object(c.a)(j,2),b=p[0],h=p[1],O=Object(i.useState)(null),f=Object(c.a)(O,2),x=f[0],v=f[1],y=function(e){var t=e.target,n=t.id,a=t.value;"name"===n&&o(a),"email"===n&&m(a),"password"===n&&h(a),"message"===n&&v(a)},w=Object(N.a)($),L=Object(c.a)(w,1)[0],S=document.getElementById("error-message"),k=document.querySelector(".modal-backdrop");return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"modal-header",children:Object(g.jsx)("h1",{children:"Register"})}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L({variables:{name:r,email:u,password:b}}).then((function(e){var t=e.data,a=e.error;a&&(0===S.classList.length?(S.classList.toggle("display"),v(a)):v(a)),t&&(null==t.createUser&&0===S.classList.length&&(v(" The name or the email is already in use"),S.classList.toggle("display")),null!=t.createUser&&(0!==S.classList.length&&S.classList.toggle("display"),console.log("User created:",t.createUser),localStorage.token_el_cocinillas=t.createUser.token,k.style.display="none",n(t.createUser.authors)))}))},children:[Object(g.jsxs)("label",{children:["Name:",Object(g.jsx)("input",{type:"text",name:"name",id:"name",max:"20",className:"form-control",onChange:y,required:!0})]}),Object(g.jsxs)("label",{children:[" ","Email:",Object(g.jsx)("input",{type:"email",name:"email",id:"email",max:"40",placeholder:"No need of a real Email",className:"form-control",onChange:y,required:!0})]}),Object(g.jsxs)("label",{children:["Password:"," ",Object(g.jsx)("input",{type:"password",name:"password",id:"password",minLength:"6",maxLength:"16",className:"form-control",onChange:y,required:!0})]}),Object(g.jsxs)("div",{id:"error-message",children:[Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#D9212C",viewBox:"0 0 16 16",children:[Object(g.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(g.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]}),x]}),Object(g.jsxs)("div",{className:"modal-footer register-modal-footer",children:[Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send"}),Object(g.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){document.getElementById("email").value="",document.getElementById("password").value="",document.getElementById("name").value="",m(""),h(""),o(""),t(!0),0!==S.classList.length&&S.classList.toggle("display")},children:"Close"})]})]})]})}function E(e){var t=e.sendUserData,n=Object(i.useState)(!0),a=Object(c.a)(n,2),s=a[0],r=a[1];return Object(g.jsx)("div",{className:"modal fade",id:"staticBackdrop",tabIndex:"-1",children:Object(g.jsx)("div",{className:"modal-dialog",children:Object(g.jsx)("div",{className:"modal-content",children:s?Object(g.jsx)(q,{setLoginPage:r,sendUserData:t}):Object(g.jsx)(U,{setLoginPage:r,sendUserData:t})})})})}var T=Object(o.a)(B||(B=Object(r.a)(["\n  query ($page: Int!, $token: String, $isToken: Boolean!) {\n    getTotalRecipes {\n      qty\n      names \n    }\n    findRecipesByPage(page: $page) {\n      author\n      recipeName\n      description\n      ingredients {\n        quantity\n        ingredient\n      }\n      steps\n      frontImage\n    }\n    loginByToken(token: $token) @include(if: $isToken) {\n      id\n      author\n      recipes {\n        author\n        recipeName\n        description\n        ingredients {\n          quantity\n          ingredient\n        }\n        steps\n        frontImage\n      }\n    }\n  }\n"])));function _(){var e=Object(i.useState)("recipes"),t=Object(c.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(null),r=Object(c.a)(s,2),o=r[0],d=r[1],u=Object(i.useState)(null),m=Object(c.a)(u,2),p=m[0],b=m[1],h=Object(i.useState)(0),O=Object(c.a)(h,2),f=O[0],x=O[1];document.body.style.backgroundColor="rgba(221, 219, 219, 0.5)";var v=!!localStorage.token_el_cocinillas,y=Object(l.a)(T,{variables:{page:f,token:localStorage.token_el_cocinillas,isToken:v}}),N=y.loading,w=y.error,L=y.data;return Object(i.useEffect)((function(){if(L){var e=new function(e,t,n,a){this.Page=e,this.pagePosition=t,this.loggedUserData=n,this.actualRecipe=a}(n,f,o,p);console.table(e)}})),N?null:w?"".concat(w):L?(L.loginByToken&&L.loginByToken!==o&&d(L.loginByToken),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{id:"body",children:[Object(g.jsx)(j,{state:{loggedUserData:o,setPagePosition:x,setPage:a,setActualRecipe:b,page:n,setLoggedUserData:d},optionList:L.getTotalRecipes}),Object(g.jsx)(I,{state:{page:n,pagePosition:f,loggedUserData:o,actualRecipe:p,setPagePosition:x},functions:{renderRecipe:function(e){document.location.href="#nav",a("recipe"),b(e)}},totalRecipes:L.getTotalRecipes.qty,findRecipesByPage:L.findRecipesByPage,newLoggedUserData:function(e){d(e)}}),Object(g.jsx)(R,{}),!L.loginByToken&&!o&&Object(g.jsx)(E,{setLoggedUserData:d,sendUserData:function(e){return d(e)}})]})})):void 0}n(48),n(49),n(53);var z=n(67),M=n(69),Q=n(66),F=new z.a({uri:"https://el-cocinillas-graphql-api-production.up.railway.app/",cache:new M.a({addTypename:!1})});Object(s.render)(Object(g.jsx)(Q.a,{client:F,children:Object(g.jsx)(_,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.e228827b.chunk.js.map